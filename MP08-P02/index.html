
<!doctype html>

<html>
<head>
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
  <meta name="theme-color" content="#4F7DC9">
  <meta charset="UTF-8">
  <title>P02 - Activity</title>
  <script src="../../bower_components/webcomponentsjs/webcomponents-lite.js"></script>
  <link rel="import" href="../../elements/codelab.html">
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Source+Code+Pro:400|Roboto:400,300,400italic,500,700|Roboto+Mono">
  <style is="custom-style">
    body {
      font-family: "Roboto",sans-serif;
      background: var(--google-codelab-background, #F8F9FA);
    }
  </style>
  
</head>
<body unresolved class="fullbleed">

  <google-codelab title="P02 - Activity"
                  environment="web"
                  feedback-link="https://github.com/gerardfp">
    
      <google-codelab-step label="Introducció" duration="0">
        <p>El objetivo de esta práctica es aprender a iniciar Activities. También aprenderás cómo pasar información de una Activity a otra.</p>
<p>Desarrollarás una aplicación que muestra una Activity con un campo de texto y un botón. En el campo de texto se pedirá el nombre de una persona. Cuando se pulse el botón, el nombre introducido se mostrará en otra Activity, a modo de saludo.</p>


      </google-codelab-step>
    
      <google-codelab-step label="Jerarquía de objetos para la construcción de Interfaces de usuario" duration="0">
        <p>La interfaz gráfica de usuario para una aplicación para Android está construida usando una jerarquía de objetos <a href="https://developer.android.com/reference/android/view/View.html" target="_blank"><code>View</code></a> y <a href="https://developer.android.com/reference/android/view/ViewGroup.html" target="_blank"><code>ViewGroup</code></a>. Los objetos <a href="https://developer.android.com/reference/android/view/View.html" target="_blank"><code>View</code></a> son por lo general los widgets de interfaz de usuario tales como <a href="https://developer.android.com/guide/topics/ui/controls/button.html" target="_blank">botones</a> o <a href="https://developer.android.com/guide/topics/ui/controls/text.html" target="_blank">campos de texto</a>. Los objetos <a href="https://developer.android.com/reference/android/view/ViewGroup.html" target="_blank"><code>ViewGroup</code></a> son contenedores invisibles que definen cómo se distribuyen sus hijos, por ejemplo en una rejilla o una lista vertical.</p>
<p>Android proporciona un vocabulario XML que corresponde a las subclases de <a href="https://developer.android.com/reference/android/view/View.html" target="_blank"><code>View</code></a> y <a href="https://developer.android.com/reference/android/view/ViewGroup.html" target="_blank"><code>ViewGroup</code></a> para que pueda definir la interfaz de usuario en XML usando una jerarquía de elementos de interfaz de usuario.</p>
<p>Los Layout son subclases de la <a href="https://developer.android.com/reference/android/view/ViewGroup.html" target="_blank"><code>ViewGroup</code></a>. En este ejercicio, trabajará con una <a href="https://developer.android.com/reference/android/widget/LinearLayout.html" target="_blank"><code>LinearLayout</code></a>.</p>
<p><img style="max-width: 533.33px" src="img\8115d34bac38108b.png"></p>
<p><strong>Figura 1.</strong> Ilustración de cómo los objetos <a href="https://developer.android.com/reference/android/view/ViewGroup.html" target="_blank"><code>ViewGroup</code></a> forman ramas en el layout y contienen otros objetos <a href="https://developer.android.com/reference/android/view/View.html" target="_blank"><code>View</code></a>.</p>


      </google-codelab-step>
    
      <google-codelab-step label="Activity principal" duration="0">
        <h2>En la activity principal, crearemos un <code>LinearLayout</code> que contendrá el <code>EditText</code> para introducir el nombre, y el <code>Button</code>.</h2>
<h2>Crear un LinearLayout</h2>
<h2>Desde el directorio <code>res/layout/</code>, abre el archivo <code>activity_main.xml</code>.<br><br>Este archivo XML define el layout de la activity. Por defecto, contiene el <code>T</code><code>ext</code><code>V</code><code>iew</code> &#34;Hello World&#34;.<br></h2>
<ol type="1" start="1">
<li>Cuando se abre un archivo de diseño, se muestra por primera vez el editor de diseño en el <a href="https://developer.android.com/studio/write/layout-editor.html" target="_blank">Layout Editor</a> . Para esta lección, se trabaja directamente con el XML, por lo que debes hacer clic en la pestaña <strong>Texto</strong> para cambiar al editor de texto.<br></li>
<li>Reemplazar el contenido del archivo XML con lo siguiente:<br></li>
</ol>
<pre><code>&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;
&lt;LinearLayout
    xmlns:android=&#34;http://schemas.android.com/apk/res/android&#34;
    xmlns:tools=&#34;http://schemas.android.com/tools&#34;
    android:layout_width=&#34;match_parent&#34;
    android:layout_height=&#34;match_parent&#34;
    android:orientation=&#34;horizontal&#34;&gt;
&lt;/LinearLayout&gt;</code></pre>
<p><a href="https://developer.android.com/reference/android/widget/LinearLayout.html" target="_blank"><code>LinearLayout</code></a> es un grupo de views (una subclase de <a href="https://developer.android.com/reference/android/view/ViewGroup.html" target="_blank"><code>ViewGroup</code></a>) que distribuye sus hijas, ya sea en una orientación vertical u horizontal, según lo especificado en el atributo <a href="https://developer.android.com/reference/android/widget/LinearLayout.html#attr_android:orientation" target="_blank"><code>android:orientation</code></a>. Todos los hijos de <a href="https://developer.android.com/reference/android/widget/LinearLayout.html" target="_blank"><code>LinearLayout</code></a> aparecen en la pantalla en el orden en que aparecen en el XML.</p>
<p>Otros dos atributos, <a href="https://developer.android.com/reference/android/view/View.html#attr_android:layout_width" target="_blank"><code>android:layout_width</code></a> y <a href="https://developer.android.com/reference/android/view/View.html#attr_android:layout_height" target="_blank"><code>android:layout_height</code></a>, se requieren para todas las vistas con el fin de especificar su tamaño.</p>
<p>Debido a que el <a href="https://developer.android.com/reference/android/widget/LinearLayout.html" target="_blank"><code>LinearLayout</code></a> es la vista raíz del diseño, podría llenar toda la pantalla que está disponible para la aplicación mediante el establecimiento de la anchura y la altura en <code>&#34;match_parent&#34;</code>. Este valor declara que la vista debería ampliar su anchura o altura para <em>que coincida con</em> la anchura o la altura de la vista padre.</p>
<h2>Añadir un EditText</h2>
<p>En el archivo <code>activity_main.xml</code>, dentro del elemento <a href="https://developer.android.com/reference/android/widget/LinearLayout.html" target="_blank"><code>&lt;LinearLayout&gt;</code></a>, agrega el siguiente elemento <a href="https://developer.android.com/reference/android/widget/EditText.html" target="_blank"><code>&lt;EditText&gt;</code></a>:</p>
<pre><code>&lt;LinearLayout
    xmlns:android=&#34;http://schemas.android.com/apk/res/android&#34;
    xmlns:tools=&#34;http://schemas.android.com/tools&#34;
    android:layout_width=&#34;match_parent&#34;
    android:layout_height=&#34;match_parent&#34;
    android:orientation=&#34;horizontal&#34;&gt;
    &lt;EditText android:id=&#34;@+id/edit_person_name&#34;
        android:layout_width=&#34;wrap_content&#34;
        android:layout_height=&#34;wrap_content&#34;
        android:hint=&#34;Enter your name&#34; /&gt;
&lt;/LinearLayout&gt; </code></pre>
<pre>  </pre>
<p>He aquí una descripción de los atributos que has añadido en el <a href="https://developer.android.com/reference/android/widget/EditText.html" target="_blank"><code>&lt;EditText&gt;</code></a>:</p>
<p><a href="https://developer.android.com/reference/android/view/View.html#attr_android:id" target="_blank"><code>android:id</code></a></p>
<p>Proporciona un identificador único para la vista, que se puede utilizar para hacer referencia al objeto desde el código de aplicación, por ejemplo, para leer y manipular el objeto (veremos esto en la próxima lección).<br></p>
<p>La arroba ( <code>@</code> ) es necesaria para refierse a cualquier objeto de recurso de XML. Va seguido por el tipo de recurso ( <code>id</code> en este caso), una barra, y luego el nombre del recurso (<code>edit_person_name</code>).<br></p>
<p>El signo más ( <code>+</code>) antes del tipo de recurso, sólo se necesita cuando se está definiendo un identificador de recursos. </p>
<p>Al compilar la aplicación, el SDK utiliza el nombre de ID para crear un nuevo identificador de recursos en el archivo <code>gen/R.java</code> referente al elemento <a href="https://developer.android.com/reference/android/widget/EditText.html" target="_blank"><code>EditText</code></a>. Con el ID de recurso declarado una vez de esta manera, otras referencias al ID no necesitan el signo más. El uso del signo más es necesario sólo cuando se especifica un nuevo identificador de recursos y no es necesario para los recursos concretos, tales como <em>strings</em> o <em>layouts</em>.</p>
<p><strong>Objetos de recursos</strong></p>
<p><br>Un objeto de recurso es un nombre (un número entero único) que está asociado con un recurso de la aplicación, como por ejemplo un mapa de bits, archivo de layout, o un string.</p>
<p><br>Cada recurso tiene un objeto de recurso correspondiente que se define en el fichero </p>
<pre>R.java</pre>
<p> de su proyecto. Puede utilizar los nombres de objeto en la clase </p>
<pre>R </pre>
<p>para hacer referencia a los recursos, por ejemplo, cuando sea necesario especificar un valor string para el atributo </p>
<pre>android:hint</pre>
<p>. También puede crear identificadores de recursos arbitrarios que puedes asociar con una View utilizando el atributo </p>
<pre>android:id</pre>
<p>, que le permite hacer referencia a esa View desde otro código.<br></p>
<p>Las herramientas del SDK generan el archivo </p>
<pre>R.java</pre>
<p> cada vez que se compila la app. Nunca se debe modificar este archivo manualmente.</p>
<p><a href="https://developer.android.com/reference/android/view/View.html#attr_android:layout_width" target="_blank"><code>android:layout_width</code></a> y <a href="https://developer.android.com/reference/android/view/View.html#attr_android:layout_height" target="_blank"><code>android:layout_height</code></a></p>
<p>En lugar de utilizar tamaños específicos para la anchura y la altura, el valor <code>&#34;wrap_content&#34;</code> especifica que la View debe ser sólo tan grande como sea necesario para adaptarse a los contenidos. Si se usa en su lugar <code>&#34;match_parent&#34;</code>, entonces el elemento <a href="https://developer.android.com/reference/android/widget/EditText.html" target="_blank"><code>EditText</code></a> llenaría la pantalla, ya que podría coincidir con el tamaño de la matriz <a href="https://developer.android.com/reference/android/widget/LinearLayout.html" target="_blank"><code>LinearLayout</code></a>.</p>
<p><a href="https://developer.android.com/reference/android/widget/TextView.html#attr_android:hint" target="_blank"><code>android:hint</code></a></p>
<p>Este es un string predeterminado que se mostrará cuando el campo de texto esté vacío. En lugar de utilizar un string codificado como el valor, el valor <code>&#34;@string/edit_person_name&#34;</code> se refiere a un recurso String definido en un archivo separado. Debido a que se refiere a un recurso concreto (no sólo un identificador), no necesita el signo más. <strong>Sin embargo, debido a que no ha definido el recurso String, verás un error de compilación en un primer momento. Vas a arreglar esto en la siguiente sección mediante la definición del String.</strong></p>
<p><strong>  Nota:</strong> Este recurso de cadena tiene el mismo nombre que el elemento ID: <code>edit_person_name</code>. Sin embargo, las referencias a los recursos siempre están en el ámbito por el tipo de recurso (por ejemplo, <code>id</code> o <code>string</code>), por lo que usar el mismo nombre no causa colisiones.</p>
<h2>Añadir recursos String</h2>
<p>Por defecto, tu proyecto Android incluye el archivo de recursos String  <code>res/values/strings.xml</code>. A continuación, vamos a añadir dos nuevos strings.<br></p>
<ol type="1" start="1">
<li>Desde el directorio <code>res/values/</code>, abre <code>strings.xml</code>.<br></li>
<li>Añade dos strings para que el archivo quede así:<br></li>
</ol>
<pre><code>&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;
&lt;resources&gt;
    &lt;string name=&#34;app_name&#34;&gt;My First App&lt;/string&gt;
    &lt;string name=&#34;edit_person_name&#34;&gt;Enter your name&lt;/string&gt;
    &lt;string name=&#34;button_send_person_name&#34;&gt;Greet!&lt;/string&gt;
&lt;/resources&gt;</code></pre>
<p>Para mostrar texto en la interfaz de usuario, especifica siempre cada String como un recurso. Los recursos String permiten gestionar todo el texto de interfaz de usuario en un solo lugar, lo que hace que el texto sea más fácil de encontrar y actualizar. La externalización de los strings también permite localizar una aplicación a diferentes idiomas, proporcionando definiciones alternativas para cada recurso String.</p>
<h2>Añadir un Button</h2>
<p>Volver al archivo <code>activity_main.xml</code> y añadir un botón después del <a href="https://developer.android.com/reference/android/widget/EditText.html" target="_blank"><code>&lt;EditText&gt;</code></a>. El archivo debe tener este aspecto:</p>
<pre><code>&lt;LinearLayout
    xmlns:android=&#34;http://schemas.android.com/apk/res/android&#34;
    xmlns:tools=&#34;http://schemas.android.com/tools&#34;
    android:orientation=&#34;horizontal&#34;
    android:layout_width=&#34;match_parent&#34;
    android:layout_height=&#34;match_parent&#34;&gt;
        &lt;EditText android:id=&#34;@+id/edit_person_name&#34;
          android:layout_width=&#34;wrap_content&#34;
          android:layout_height=&#34;wrap_content&#34;
          android:hint=&#34;@string/edit_person_name&#34; /&gt;
        &lt;Button
          android:layout_width=&#34;wrap_content&#34;
          android:layout_height=&#34;wrap_content&#34;
          android:text=&#34;@string/button_send_person_name&#34; /&gt;
&lt;/LinearLayout&gt;</code></pre>
<p><strong>  Nota:</strong> Este botón no necesita el atributo <a href="https://developer.android.com/reference/android/view/View.html#attr_android:id" target="_blank"><code>android:id</code></a>, ya que no se va a hacer referencia a él desde el código de la Activity.</p>
<p>El layout está diseñado de modo que tanto el widget <a href="https://developer.android.com/reference/android/widget/EditText.html" target="_blank"><code>EditText</code></a> como el <a href="https://developer.android.com/reference/android/widget/Button.html" target="_blank"><code>Button</code></a> son solamente tan grandes como sea necesario para adaptarse a su contenido, tal como muestra la figura 2.</p>
<p><img style="max-width: 313.00px" src="img\ad73e49368925e6d.png"></p>
<p><strong>Figura 2. </strong>Los widgets <a href="https://developer.android.com/reference/android/widget/EditText.html" target="_blank"><code>EditText</code></a> y <a href="https://developer.android.com/reference/android/widget/Button.html" target="_blank"><code>Button</code></a> tienen sus anchuras establecidas en <code>&#34;wrap_content&#34;</code>.</p>
<p>Esto funciona muy bien para el botón, pero no así para el campo de texto, ya que el usuario puede escribir algo más largo. Sería mejor llenar el ancho de la pantalla sin usar con el campo de texto. Puede hacer esto dentro de una <a href="https://developer.android.com/reference/android/widget/LinearLayout.html" target="_blank"><code>LinearLayout</code></a> con la propiedad <em>weight</em>, que se puede especificar mediante el atributo <a href="https://developer.android.com/reference/android/widget/LinearLayout.LayoutParams.html#weight" target="_blank"><code>android:layout_weight</code></a>.</p>
<p>El valor weight (peso) es un número que especifica la cantidad del espacio restante que cada vista debe consumir, en relación con la cantidad consumida por las vistas hermanas. Es algo así como la cantidad de ingredientes en una receta de la bebida: &#34;2 partes de soda, 1 parte de jarabe&#34; significa que dos tercios de la bebida es sosa. Por ejemplo, si se le da a una vista un peso de 2 y a otra un peso de 1, la suma es 3, por lo que la primera vista llena 2/3 del espacio restante y la segunda vista llena el resto. Si se agrega una tercera vista y se le da un peso de 1, entonces la primera vista (con un peso de 2) ahora recibe 1/2 del espacio restante, mientras que los dos restantes obtienen, 1/4 cada uno.</p>
<p>El peso por defecto para todas las Vistas es 0, por lo que si no se especifica ningún valor de peso superior a 0 a una vista, entonces esa vista llena cualquier espacio que quede después de que a todas las vistas se les haya dado el espacio que requieren.</p>
<h2>Hacer que el EditText rellene el ancho de pantalla</h2>
<p>En <code>activity_main.xml</code>, modifica el <a href="https://developer.android.com/reference/android/widget/EditText.html" target="_blank"><code>&lt;EditText&gt;</code></a> a fin de que los atributos se vean así:</p>
<pre><code>&lt;EditText android:id=&#34;@+id/edit_person_name&#34;
    android:layout_weight=&#34;1&#34;
    android:layout_width=&#34;0dp&#34;
    android:layout_height=&#34;wrap_content&#34;
    android:hint=&#34;@string/edit_person_name&#34; /&gt;</code></pre>
<p>Ajustar la anchura a cero (0dp) mejora el rendimiento de diseño porque el uso de <code>&#34;wrap_content&#34;</code> como anchura requiere que el sistema calcule una anchura, que es en última instancia irrelevante debido a que el valor de peso requiere otro cálculo de anchura para llenar el espacio restante.</p>
<p><img style="max-width: 316.00px" src="img\a95f9c99efd84e34.png"></p>
<p><strong>Figura 3. </strong>Al control <a href="https://developer.android.com/reference/android/widget/EditText.html" target="_blank"><code>EditText</code></a> se le ha dado todo el peso por diseño, por lo que llena el espacio restante en el <a href="https://developer.android.com/reference/android/widget/LinearLayout.html" target="_blank"><code>LinearLayout</code></a>.</p>
<p>Así es como el archivo de diseño <code>activity_main.xml</code> completo debería ser ahora:<br></p>
<pre><code>&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;
&lt;LinearLayout xmlns:android=&#34;http://schemas.android.com/apk/res/android&#34;
   xmlns:tools=&#34;http://schemas.android.com/tools&#34;
   android:orientation=&#34;horizontal&#34;
   android:layout_width=&#34;match_parent&#34;
   android:layout_height=&#34;match_parent&#34;&gt;
    &lt;EditText android:id=&#34;@+id/edit_person_name&#34;
        android:layout_weight=&#34;1&#34;
        android:layout_width=&#34;0dp&#34;
        android:layout_height=&#34;wrap_content&#34;
        android:hint=&#34;@string/edit_person_name&#34; /&gt;
    &lt;Button
        android:layout_width=&#34;wrap_content&#34;
        android:layout_height=&#34;wrap_content&#34;
        android:text=&#34;@string/button_send_person_name&#34; /&gt;
&lt;/LinearLayout&gt;</code></pre>
<h2>Ejecutar la aplicación</h2>
<h2>Este layout se aplica por defecto a la clase <a href="https://developer.android.com/reference/android/app/Activity.html" target="_blank">Activity</a> que las herramientas del SDK generaron cuando se creó el proyecto.</h2>
<p>Para ejecutar la aplicación y ver los resultados, haga clic en <strong>Ejecutar &#39;app&#39; </strong><img style="max-width: 25.00px" src="img\5cddd1366b146a3c.png"> en la barra de herramientas.</p>


      </google-codelab-step>
    
      <google-codelab-step label="Iniciar otra Activity" duration="0">
        

      </google-codelab-step>
    
      <google-codelab-step label="Tenemos una aplicación que muestra una actividad (una sola pantalla) con un campo de texto y un botón." duration="0">
        

      </google-codelab-step>
    
      <google-codelab-step label="Vamos a añadir algo de código en MainActivity para que se inicie una nueva actividad cuando el usuario haga clic en el botón Enviar." duration="0">
        <h2>Responder al botón Enviar</h2>
<ol type="1" start="1">
<li>En el archivo <code>res/layout/activity_main.xml</code>, añadir el atributo <a href="https://developer.android.com/reference/android/view/View.html#attr_android:onClick" target="_blank"><code>android:onClick</code></a> al elemento <a href="https://developer.android.com/reference/android/widget/Button.html" target="_blank"><code>&lt;Button&gt;</code></a>, como se muestra a continuación:<br></li>
</ol>
<pre><code>&lt;Button
   android:layout_width=&#34;wrap_content&#34;
   android:layout_height=&#34;wrap_content&#34;
   android:text=&#34;@string/button_send_person_name&#34;
   android:onClick=&#34;sendPersonName&#34;/&gt;</code></pre>
<ol type="1" start="2">
<li>Este atributo indica al sistema que ha de llamar al método <code>sendPersonName()</code> en la Activity cada vez que un usuario haga clic en el botón.<br></li>
<li>En el archivo <code>java/com.example.hellojohndoe/MainActivity.java</code>, agrega el método <code>sendPersonName()</code> al final, como se muestra a continuación:<br></li>
</ol>
<pre><code>public class MainActivity extends AppCompatActivity { 
    
    @Override 
    protected void onCreate(Bundle savedInstanceState) { 
        super.onCreate(savedInstanceState);         
        setContentView(R.layout.activity_main); 
    } 

    /* Se llama cuando el usuario hace clic en el botón Enviar */ 
    public void sendPersonName(View view) { 
        // Hacer algo en respuesta al botón 
    } 
}</code></pre>
<ol type="1" start="4">
<li>Para que el sistema empareje este método con el nombre de método dado a <a href="https://developer.android.com/reference/android/view/View.html#attr_android:onClick" target="_blank"><code>android:onClick</code></a>, la firma debe ser exactamente como se muestra. En concreto, el método debe:</li>
</ol>
<ul>
<li>Ser público</li>
<li>Tener un valor de retorno <strong><code>void </code></strong></li>
<li>Tener una <a href="https://developer.android.com/reference/android/view/View.html" target="_blank"><code>View</code></a> como único parámetro (este será el <a href="https://developer.android.com/reference/android/view/View.html" target="_blank"><code>View</code></a> al que se hizo clic)</li>
</ul>
<p><br>A continuación, deberás rellenar este método para leer el contenido del campo de texto y entregar el texto a otra actividad.<br></p>
<h2>Construir un Intent</h2>
<p><br>Un <a href="https://developer.android.com/reference/android/content/Intent.html" target="_blank"><code>Intent</code></a> es un objeto que proporciona la unión entre los componentes separados (por ejemplo, dos actividades) en tiempo de ejecución. El <a href="https://developer.android.com/reference/android/content/Intent.html" target="_blank"><code>Intent</code></a> representa la &#34;intención de hacer algo&#34; de una aplicación. Puede utilizar los Intent para una amplia variedad de tareas, pero en esta lección, su <em>Intent</em> comienza otra actividad.<br></p>
<p>En <code>MainActivity.java</code>, añadir el código que se muestra a continuación para <code>sendPersonName()</code>:<br></p>
<pre><code>public class MainActivity extends AppCompatActivity {
   public final static String EXTRA_PERSON_NAME = &#34;com.example.hellojohndoe.NAME&#34;;

   @Override
   protected void onCreate(Bundle savedInstanceState) {
       super.onCreate(savedInstanceState);
       setContentView(R.layout.activity_main);
   }

   /* Se llama cuando el usuario hace clic en el botón Enviar */
   public void sendPersonName(View view) {
       EditText editTextPersonName = (EditText) findViewById(R.id.edit_person_name);
       String personName = editTextPersonName.getText().toString();

       Intent intent = new Intent(this, GreetPersonActivity.class);
       intent.putExtra(EXTRA_PERSON_NAME, personName);
       startActivity(intent);
   }
}</code></pre>
<p><strong>  Nota:</strong> Android Studio podría mostrar errores <code>Cannot resolve symbol</code> debido a que el código hace referencia a clases como <a href="https://developer.android.com/reference/android/content/Intent.html" target="_blank"><code>Intent</code></a> y <a href="https://developer.android.com/reference/android/widget/EditText.html" target="_blank"><code>EditText</code></a> que no han sido importados. Para importar estas clases, puede 1) utilizar la funcionalidad de &#34;importación de clase&#34; de Android Studio pulsando Alt + Enter (Opción + Retorno en Mac) o 2) añadir manualmente las declaraciones de importación en la parte superior del archivo.</p>
<p>Hay mucho que hacer en <code>sendPersonName()</code>, por lo que vamos a explicar lo que está pasando.<br></p>
<p>El constructor de <a href="https://developer.android.com/reference/android/content/Intent.html" target="_blank"><code>Intent</code></a> toma dos parámetros:<br></p>
<ul>
<li>Un <a href="https://developer.android.com/reference/android/content/Context.html" target="_blank"><code>Context</code></a> como primer parámetro ( <code>this</code> se utiliza debido a que <a href="https://developer.android.com/reference/android/app/Activity.html" target="_blank"><code>Activity</code></a> es una subclase de <a href="https://developer.android.com/reference/android/content/Context.html" target="_blank"><code>Context</code></a>)<br></li>
<li>La <a href="https://developer.android.com/reference/java/lang/Class.html" target="_blank"><code>Class</code></a> del componente de aplicación a la que el sistema debe proporcionar el <a href="https://developer.android.com/reference/android/content/Intent.html" target="_blank"><code>Intent</code></a> (en este caso, la actividad que debe ser iniciada).<br><br>  <strong>Nota:</strong> La referencia al <code>GreetPersonActivity</code> generará un error en Android Studio debido a que la clase no existe todavía. Ignorar el error por el momento; ya que va a crear la clase pronto.<br></li>
</ul>
<p>El método <a href="https://developer.android.com/reference/android/content/Intent.html#putExtra(java.lang.String,%20java.lang.String)" target="_blank"><code>putExtra()</code></a> agrega el valor del <code>EditText</code> al Intent. Un <code>Intent</code> puede llevar tipos de datos como pares de clave-valor llamados <em>extras</em>. La clave es la constante pública <code>EXTRA_PERSON_NAME</code> (ha de ser pública ya que la actividad siguiente utiliza dicha clave para extraer el valor de texto). Es una buena práctica definir claves para extras utilizando el nombre del paquete de la aplicación como un prefijo. Esto asegura que las claves son únicas, en caso de que su aplicación interactúe con otras aplicaciones.</p>
<p>El método <a href="https://developer.android.com/reference/android/app/Activity.html#startActivity(android.content.Intent)" target="_blank"><code>startActivity()</code></a> inicia una instancia de la clase <code>GreetPersonActivity</code> , especificada por el <a href="https://developer.android.com/reference/android/content/Intent.html" target="_blank"><code>Intent</code></a>. Ahora tienes que crear esta clase.</p>
<h2>Crear la segunda actividad</h2>
<ol type="1" start="1">
<li>En la ventana del <strong>Proyecto</strong>, haz clic en la carpeta de la <strong>Aplicación</strong> y selecciona <strong>Nueva&gt; Actividad&gt; Actividad vacía</strong>.<br></li>
<li>En la ventana <strong>Configurar Actividad</strong>, escribe &#34;GreetPersonActivity&#34; para el <strong>Nombre de Actividad </strong>y haz clic en<strong> Finalizar<br></strong></li>
</ol>
<p>Cuando creas una Activity de esta manera, Android Studio automáticamente hace tres cosas:<br></p>
<ul>
<li>Crea la clase <code>GreetPersonActivity.java</code> con la implementación requerida del método <a href="https://developer.android.com/reference/android/app/Activity.html#onCreate(android.os.Bundle)" target="_blank"><code>onCreate()</code></a>.<br></li>
<li>Crea el archivo de diseño que corresponde a <code>activity_greet_person.xml<br></code></li>
<li>Agrega el elemento <a href="https://developer.android.com/guide/topics/manifest/activity-element.html" target="_blank"><code>&lt;</code><code>A</code><code>ctivi</code><code>ty</code><code>&gt;</code></a> requerido en <code>AndroidManifest.xml</code>.</li>
</ul>
<p><br>Si ejecutas la aplicación y haces clic en el botón Enviar de la primera actividad, la segunda actividad se inicia, pero está vacía. </p>
<p>Esto es porque la segunda actividad utiliza un <code>Layout</code> vacío predeterminado proporcionado por la plantilla.</p>
<h2>Mostrar el mensaje</h2>
<p>Ahora vas a modificar la segunda actividad para mostrar el mensaje que fue pasado por la primera actividad.</p>
<ol type="1" start="1">
<li>En <code>GreetPersonActivity.java</code>, añadir el siguiente código al método <code>onCreate()</code>:<br></li>
</ol>
<pre><code>@Override
protected void onCreate(Bundle savedInstanceState) {
   super.onCreate(savedInstanceState);
   setContentView(R.layout.activity_greet_person);

   Intent intent = getIntent();
   String personName = intent.getStringExtra(MainActivity.EXTRA_PERSON_NAME);

   TextView textView = new TextView(this);
   textView.setTextSize(40);
   textView.setText(&#34;HELLO &#34; + personName);

   ViewGroup layout = (ViewGroup) findViewById(R.id.activity_greet_person);
   layout.addView(textView);
}</code></pre>
<ol type="1" start="2">
<li>Pulsa Alt + Enter (opción + retorno de Mac) para importar las clases que faltan.</li>
</ol>
<p>Hay mucho que explicar aquí:</p>
<ol type="1" start="1">
<li>La llamada <a href="https://developer.android.com/reference/android/app/Activity.html#getIntent()" target="_blank"><code>getIntent()</code></a> devuelve el <code>Intent</code> con la que se inició la actividad. Cada <a href="https://developer.android.com/reference/android/app/Activity.html" target="_blank"><code>Activity</code></a> es invocada por un <a href="https://developer.android.com/reference/android/content/Intent.html" target="_blank"><code>Intent</code></a>, independientemente de la forma en que el usuario navega allí. La llamada <a href="https://developer.android.com/reference/android/content/Intent.html#getStringExtra(java.lang.String)" target="_blank"><code>getStringExtra()</code></a> recupera los datos que se pusieron en la primera actividad.<br></li>
<li>Se crea mediante programación una <a href="https://developer.android.com/reference/android/widget/TextView.html" target="_blank"><code>TextView</code></a> y se define su tamaño y su mensaje.<br></li>
<li>Se agrega el <code>TextView</code> al layout identificado por <code>R.id.activity_greet_person</code>. Se hace un <em>cast</em> al layout <a href="https://developer.android.com/reference/android/view/ViewGroup.html" target="_blank"><code>ViewGroup</code></a>, ya que es la superclase de todos los layouts y contiene el método <a href="https://developer.android.com/reference/android/view/ViewGroup.html#addView(android.view.View)" target="_blank"><code>addView()</code></a>.</li>
</ol>
<p><strong>  Nota:</strong> El diseño de XML generado por versiones anteriores de Android Studio podría no incluir el atributo <code>android:id</code>. </p>
<p>La llamada <code>findViewById()</code> fallará si el layout no tiene el atributo <code>android:id</code>. Si este es el caso, abra el fichero <code>activity_greet_person.xml</code> y añada el atributo <code>android:id=&#34;@+id/activity_greet_person&#34;</code> al elemento de layout.</p>
<p>Ahora puedes ejecutar la aplicación. Cuando se abra, escribe un nombre en el campo de texto y haz clic en <strong>Greet!</strong> . La segunda actividad reemplaza a la primera en la pantalla, mostrando el mensaje de saludo al nombre de la persona que ha introducido en la primera actividad.</p>
<aside class="special"><p>Tarea</p>
<p>Desarrolla una Aplicación que pida los datos de registro de una persona. Los datos se irán pidiendo en Activities sucesivas.</p>
<p>En la primera Activity se pedirán los datos personales: <strong>Nombre y Apellidos.</strong></p>
<p>Un botón &#34;Next&#34; permitirá pasar a la siguiente Activity.</p>
<p>En la segunda Activity se pedirán los datos de contacto:<strong> Email y Teléfono.</strong></p>
<p>Otro botón &#34;Next&#34; para pasar a la siguiente.</p>
<p>En la tercera Acvtivity se pedirán los datos de pago: <strong>Numero de tarjeta</strong>.</p>
<p>Un botón &#34;Finish&#34; para pasar a la última Activity.</p>
<p>En la última Activity se mostrará una <strong>ficha </strong>con todos los datos de la persona.</p>
</aside>


      </google-codelab-step>
    
  </google-codelab>

  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-49880327-14', 'auto');

    (function() {
      var gaCodelab = '';
      if (gaCodelab) {
        ga('create', gaCodelab, 'auto', {name: 'codelab'});
      }

      var gaView;
      var parts = location.search.substring(1).split('&');
      for (var i = 0; i < parts.length; i++) {
        var param = parts[i].split('=');
        if (param[0] === 'viewga') {
          gaView = param[1];
          break;
        }
      }
      if (gaView && gaView !== gaCodelab) {
        ga('create', gaView, 'auto', {name: 'view'});
      }
    })();
  </script>

</body>
</html>
