
<!doctype html>

<html>
<head>
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
  <meta name="theme-color" content="#4F7DC9">
  <meta charset="UTF-8">
  <title>Drawing with Java</title>
  <script src="../../bower_components/webcomponentsjs/webcomponents-lite.js"></script>
  <link rel="import" href="../../elements/codelab.html">
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Source+Code+Pro:400|Roboto:400,300,400italic,500,700|Roboto+Mono">
  <style is="custom-style">
    body {
      font-family: "Roboto",sans-serif;
      background: var(--google-codelab-background, #F8F9FA);
    }
  </style>
  
</head>
<body unresolved class="fullbleed">

  <google-codelab title="Drawing with Java"
                  environment="web"
                  feedback-link="https://github.com/gerardfp">
    
      <google-codelab-step label="Introducció" duration="0">
        <p>El objetivo de esta práctica es empezar a usar los conceptos de Clase y Objeto. Consiste en desarrollar una aplicación que muestre un dibujo simple hecho con figuras geométricas.</p>
<p><img style="max-width: 257.15px" src="img\d464d034dbdf63c.png"></p>
<p>En el dibujo vemos una casa (muro, tejado y ventana) sobre la tierra y un sol en el cielo.</p>
<p>El dibujo se compondrá de los siguientes <strong>Objetos</strong>: <em>sun, sky, earth, wall, window </em>y<em> roof</em></p>
<p>Estos objetos estarán clasificados en las siguientes <strong>Clases</strong>: <em>Circle</em>, <em>Rectangle </em>y <em>Triangle</em></p>


      </google-codelab-step>
    
      <google-codelab-step label="Crea el projecte" duration="0">
        <p>Inicia el IntelliJ y crea un nuevo proyecto llamado &#34;Figuras&#34;. Recuerda marcar la opción &#34;Create project from template&#34; y selecciona la plantilla &#34;Command Line App&#34;.</p>
<p>Para crear objetos, primero hay que definir la clase. A partir de la clase se crean los objetos.</p>
<p>Empezaremos por el objeto <em>sun</em>, que es de la clase <em>Circle</em>.</p>


      </google-codelab-step>
    
      <google-codelab-step label="Crea la clase Circle" duration="0">
        <p>Haz click-derecho sobre el <em>package </em>&#34;com.company&#34;, y selecciona las opciones &#34;New&#34;, &#34;Java Class&#34;:</p>
<p><img style="max-width: 658.00px" src="img\fc86c3561f1cf3ad.png"></p>
<p>Como nombre de la Clase introduce &#34;Circle&#34;  (es importante que el nombre de las clases empiece en mayúscula)</p>
<p>Pulsa &#34;OK&#34;.</p>
<p><img style="max-width: 374.00px" src="img\1ad29e5133869ca0.png"></p>
<p>Observa que se ha creado el fichero <code>Circle.java</code>, con la definición de la clase <code>Circle</code>:</p>
<pre><code>class Circle {
}</code></pre>
<p>Una vez definida la clase <code>Circle</code>, se pueden crear objetos de esta clase. Vamos a crear el objeto <em>sun</em>:</p>


      </google-codelab-step>
    
      <google-codelab-step label="Crea el objeto sun" duration="0">
        <p>Ve al archivo <code>Main.java</code> y dentro del método  <code>main</code> añade el código para crear el objeto  <code>sun</code>.</p>
<pre><code>public class Main {
   public static void main(String[] args) {
       Circle sun = new Circle();
   }
}</code></pre>
<p>Definiremos el estado de los objetos de clase <code>Circle</code> (como el objeto <code>sun</code>), con los siguientes campos:</p>
<ul>
<li>Longitud del radio</li>
<li>Posición: coordenadas X e Y</li>
<li>Color </li>
</ul>


      </google-codelab-step>
    
      <google-codelab-step label="Define los campos de la clase Circle" duration="0">
        <p>Ve al archivo <code>Circle.java</code> y añade los siguientes campos a la clase <code>Circle</code>:</p>
<pre><code>public class Circle {
   int radius;
   int positionX;
   int positionY;
   Color color;
}</code></pre>
<p>Habrás notado que la palabra  <code>Color</code> aparece en rojo. Es debido a que no está definida la clase <code>Color</code>. Sin embargo, esta clase no la crearemos nosotros, sino que la usaremos de la biblioteca <code>java.awt</code></p>
<p>Para importar la clase <code>Color</code> de la biblioteca <code>java.awt</code> sigue estos pasos:</p>
<ol type="1" start="1">
<li>Coloca el cursor sobre la palabra <code>Color</code></li>
<li>Mueve el cursor con las flechas del teclado</li>
<li>Cuando la palabra <code>Color</code> esté subrayada, aparecerá un mensaje azul sobre ella. Pulsa <code>Alt+Intro</code></li>
<li>Aparecerá una lista debajo con las bibliotecas que incluyen la clase <code>Color</code>. Selecciona la biblioteca Color (java.awt)</li>
</ol>
<p><img style="max-width: 427.00px" src="img\d4715880603d610e.png"></p>
<p>Ahora el objeto <code>sun</code> ya tiene los campos de la clase <code>Circle</code>, así que podemos definir su estado</p>
<p><strong>⏩ Define el estado del objeto </strong><strong><em>sun</em></strong></p>
<p>Ve al archivo Main.java y asigna los siguientes valores a los campos que definen el estado del objeto <code>sun</code>:</p>
<pre><code>public class Main {
   public static void main(String[] args){
       Circle sun = new Circle();
       sun.radius = 40;
       sun.positionX = 440;
       sun.positionY = 50;
       sun.color = Color.YELLOW;
   }
}</code></pre>
<p>Ya tenemos creado el objeto <code>sun</code>, y hemos definido su estado. Sigamos con el resto de objetos de nuestro dibujo. </p>
<p>Seguimos con los objetos <code>window</code> y <code>earth</code>. Como son de la clase <code>Circle</code>, que ya está definida, ya podemos crearlos.</p>
<p><strong>⏩ Crea los objetos </strong><strong><em>window </em></strong><strong>y </strong><strong><em>earth </em></strong><strong>y define su estado</strong></p>
<p>Añade el siguiente código al método  <code>main</code>  (justo a continuación del código del objeto  <code>sun</code>):</p>
<pre><code>public class Main {
   public static void main(String[] args){
       Circle sun = new Circle();
       sun.color = Color.YELLOW;
       sun.positionX = 440;
       sun.positionY = 50;
       sun.radius = 40;

       Circle window = new Circle();
       window.color = Color.GRAY;
       window.positionX = 240;
       window.positionY = 215;
       window.radius = 10;

       Circle earth = new Circle();
       earth.color = Color.GREEN;
       earth.positionX = -300;
       earth.positionY = 250;
       earth.radius = 600;
   }
}</code></pre>
<p>Una vez creados todos los objetos de tipo círculo, seguiremos con los rectángulos (<em>wall</em>, <em>sky</em>) y triángulos (<em>roof</em>).</p>
<p><strong>⏩Define las clases </strong><strong><em>Rectangle </em></strong><strong>y </strong><strong><em>Triangle</em></strong><strong>.</strong></p>
<p>Crea las clases <code>Rectangle</code> y <code>Triangle</code>, y añade en ellas los campos que definen su estado.</p>
<pre><code>public class Rectangle {
   int width;
   int height;
   int positionX;
   int positionY;
   Color color;
}</code></pre>
<pre><code>public class Triangle {
   int width;
   int height;
   int positionX;
   int positionY;
   Color color;
}</code></pre>
<p><strong>⏩ Crea los objetos </strong><strong><em>sky</em></strong><strong>, </strong><strong><em>wall </em></strong><strong>y </strong><strong><em>roof</em></strong></p>
<p>Vuelve al archivo Main.java y añade el siguiente código:</p>
<pre><code>Rectangle wall = new Rectangle();
wall.width = 100;
wall.height = 80;
wall.positionX = 200;
wall.positionY = 200;
wall.color = Color.WHITE;

Rectangle sky = new Rectangle();
sky.width = 600;
sky.height = 400;
sky.positionX = 0;
sky.positionY = 0;
sky.color = Color.CYAN;

Triangle roof = new Triangle();
roof.width = 100;
roof.height = 50;
roof.positionX = 200;
roof.positionY = 150;
roof.color = Color.RED;</code></pre>
<p>Hemos terminado de crear los objetos que componen nuestro dibujo.</p>
<p>Una forma de entender las clases es verlas como si fuesen un molde a partir del cual se crean los objetos. En el molde se definen los campos que tendrán los objetos que se creen a partir de él. Una vez creados los objetos, se pueden modificar los valores de los campos que definen su estado.</p>
<p><img style="max-width: 736.10px" src="img\83bb163ca260a6cc.png"></p>
<p>Los objetos se almacenan en la memoria del ordenador. Como es evidente, en la memoria no se pueden dibujar círulos, rectángulos, ni triángulos. En realidad lo que se almacena en memoria es la información sobre estos objetos, es decir los valores de sus campos. Una representación más adecuada de los objetos sería esta:</p>
<p><img style="max-width: 736.10px" src="img\e5951ac7b9a9be14.png"></p>
<p>Para dibujar los objetos en la pantalla utilizaremos la clase JFrame, de la biblioteca gráfica Swing, para crear una ventana que será nuestro lienzo (<em>canvas</em>). De momento no es necesario que entiendas nada de esta clase. Simplemente copia y pega.</p>
<p><strong>⏩ Crea la clase </strong><strong><code>Canvas </code></strong></p>
<p>Crea una clase nueva llamada &#34;Canvas&#34; y escribe en ella el siguiente código:</p>
<pre><code>public class Canvas extends javax.swing.JFrame {
   static Graphics2D g;

   public Canvas() {
       if (g != null) return;
       setSize(600, 400);
       setVisible(true);
       setDefaultCloseOperation(EXIT_ON_CLOSE);
       java.awt.Canvas canvas = new java.awt.Canvas();
       canvas.setPreferredSize(new Dimension(600, 400));
       canvas.setIgnoreRepaint(true);
       add(canvas);
       g = (Graphics2D) canvas.getGraphics();
       pack();
   }

   public static void draw(Circle c) {
       new Canvas();
       g.setColor(c.color);
       g.fillOval(c.positionX, c.positionY, c.radius * 2, c.radius * 2);
   }

   public static void draw(Rectangle r) {
       new Canvas();
       g.setColor(r.color);
       g.fillRect(r.positionX, r.positionY, r.width, r.height);
   }

   public static void draw(Triangle t){
       new Canvas();
       g.setColor(t.color);
       g.fillPolygon(new int[]{t.positionX,t.positionX+t.width/2,t.positionX+t.width},
               new int[]{t.positionY+t.height,t.positionY,t.positionY+t.height},
               3);
   }
}</code></pre>
<p><strong>⏩ Usa la clase  </strong><strong><code>Canvas</code></strong><strong> para dibujar las figuras </strong></p>
<p>Añade al método  <code>main</code>  el siguiente código:</p>
<pre><code>Canvas.draw(sky);
Canvas.draw(earth);
Canvas.draw(sun);
Canvas.draw(wall);
Canvas.draw(window);
Canvas.draw(roof);</code></pre>
<p><strong>⏩ Ejecuta el programa</strong></p>
<p>Pulsa sobre el botón &#34;Run&#34;:</p>
<p><img style="max-width: 196.00px" src="img\5b594bb33856b06a.png"></p>


      </google-codelab-step>
    
  </google-codelab>

  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-49880327-14', 'auto');

    (function() {
      var gaCodelab = '';
      if (gaCodelab) {
        ga('create', gaCodelab, 'auto', {name: 'codelab'});
      }

      var gaView;
      var parts = location.search.substring(1).split('&');
      for (var i = 0; i < parts.length; i++) {
        var param = parts[i].split('=');
        if (param[0] === 'viewga') {
          gaView = param[1];
          break;
        }
      }
      if (gaView && gaView !== gaCodelab) {
        ga('create', gaView, 'auto', {name: 'view'});
      }
    })();
  </script>

</body>
</html>
