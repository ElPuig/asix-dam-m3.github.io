
<!doctype html>

<html>
<head>
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
  <meta name="theme-color" content="#4F7DC9">
  <meta charset="UTF-8">
  <title>Drawing with Java</title>
  <script src="../../bower_components/webcomponentsjs/webcomponents-lite.js"></script>
  <link rel="import" href="../../elements/codelab.html">
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Source+Code+Pro:400|Roboto:400,300,400italic,500,700|Roboto+Mono">
  <style is="custom-style">
    body {
      font-family: "Roboto",sans-serif;
      background: var(--google-codelab-background, #F8F9FA);
    }
  </style>
  
</head>
<body unresolved class="fullbleed">

  <google-codelab title="Drawing with Java"
                  environment="web"
                  feedback-link="https://github.com/gerardfp">
    
      <google-codelab-step label="Introducció" duration="0">
        <p>L&#39;objectiu d&#39;aquesta pràctica és començar a usar els conceptes de Classe i Objecte. Consisteix en desenvolupar una aplicació que mostri un dibuix simple fet amb figures geomètriques.</p>
<p><img style="max-width: 257.15px" src="img/d464d034dbdf63c.png"></p>
<p>Al dibuix veiem una casa (mur, teulada i finestra) sobre la terra i un sol al cel.</p>
<p>El dibuix es composarà dls següents <strong>Objectes</strong>: <em>sun, sky, earth, wall, window </em>y<em> roof</em></p>
<p>Aquests objectes estaran classificados en les següents <strong>Classes</strong>: <em>Circle</em>, <em>Rectangle </em>y <em>Triangle</em></p>


      </google-codelab-step>
    
      <google-codelab-step label="Crea el projecte" duration="0">
        <p>Inicia IntelliJ i crea un nou projecte anomenat &#34;Figuras&#34;. Recorda marcar la opció &#34;Create project from template&#34; i selecciona la plantilla &#34;Command Line App&#34;.</p>
<p>Per a crear objectes, primer s&#39;ha de definir la classe. A partir de la classe es creen els objects.</p>
<p>Començarem per l&#39;object <em>sun</em>, que és de la classe <em>Circle</em>.</p>


      </google-codelab-step>
    
      <google-codelab-step label="Crea la classe Circle" duration="0">
        <p>Fes click-dreta sobre el <em>package </em>&#34;com.company&#34;, i selecciona les opcions &#34;New&#34; -&gt; &#34;Java Class&#34;:</p>
<p><img style="max-width: 658.00px" src="img/fc86c3561f1cf3ad.png"></p>
<p>Com a nom de la Classe introdueix &#34;Circle&#34;  (és important que el nom de les classes comenci amb majúscula)</p>
<p>Polsa &#34;OK&#34;.</p>
<p><img style="max-width: 374.00px" src="img/1ad29e5133869ca0.png"></p>
<p>Observa que s&#39;ha creat el fitxer <code>Circle.java</code>, amb la definició de la classe <code>Circle</code>:</p>
<pre><code>class Circle {
}</code></pre>


      </google-codelab-step>
    
      <google-codelab-step label="Crea l&#39;objecte sun" duration="0">
        <p>Un cop definida la classe <code>Circle</code>, es poden crear objectes d&#39;aquesta classe. Anem a crear l&#39;objecte <em>sun</em>:</p>
<p>Ves l&#39;arxiu <code>Main.java</code> i dintre del mètode  <code>main</code> afegeix el códi per a crear l&#39;object  <code>sun</code>.</p>
<pre><code>public class Main {
   public static void main(String[] args) {
       Circle sun = new Circle();
   }
}</code></pre>


      </google-codelab-step>
    
      <google-codelab-step label="Defineix els camps de la classe Circle" duration="0">
        <p>Definirem l&#39;estat dels objectes de classe <code>Circle</code> (com l&#39;objecte <code>sun</code>), amb els següients camps:</p>
<ul>
<li>Longitud del radi</li>
<li>Posició: coordenades X i Y</li>
<li>Color </li>
</ul>
<p>Ves a l&#39;arxiu <code>Circle.java</code> i afegeix els següents camps a la classe <code>Circle</code>:</p>
<pre><code>public class Circle {
   int radius;
   int positionX;
   int positionY;
   Color color;
}</code></pre>
<p>Haurás notat que la paraula  <code>Color</code> apareix en vermell. És degut a que no està definida la classe <code>Color</code>. No obstant, aquesta classe no la crearem nosaltres, sinò que la usarem de la biblioteca <code>java.awt</code></p>
<p>Per a importar la classe <code>Color</code> de la biblioteca <code>java.awt</code> segueix aquestes passes:</p>
<ol type="1" start="1">
<li>Coloca el cursor sobre la paraula <code>Color</code></li>
<li>Mou el cursor amb les fletxes del teclat</li>
<li>Quan la paraula <code>Color</code> estigui subratllada, apareixerà un meissatge blau sobre ella. Polsa <code>Alt+Intro</code></li>
<li>Apareixerà una llista a sota amb les biblioteques que inclouen la classe <code>Color</code>. Selecciona la biblioteca <code>Color (java.awt)</code></li>
</ol>
<p><img style="max-width: 427.00px" src="img/d4715880603d610e.png"></p>


      </google-codelab-step>
    
      <google-codelab-step label="Defineix l&#39;estat de l&#39;objecte sun" duration="0">
        <p>Ara l&#39;objecte <code>sun</code> ja té els camps de la classe <code>Circle</code>, així que podems definir el seu estat.</p>
<p>Ves a l&#39;arxiu <code>Main.java</code> i assigna els següents valors als camps que defineixen l&#39;estat de l&#39;objecte <code>sun</code>:</p>
<pre><code>public class Main {
   public static void main(String[] args){
       Circle sun = new Circle();
       sun.radius = 40;
       sun.positionX = 440;
       sun.positionY = 50;
       sun.color = Color.YELLOW;
   }
}</code></pre>
<p>Ja tenim creat l&#39;objecte <code>sun</code>, i hem definit el seu estat. </p>


      </google-codelab-step>
    
      <google-codelab-step label="Pinta l&#39;objecte sun" duration="0">
        <p>Per a dibuixar els objectes a la pantalla utilizarem la Classe <code>JFrame</code>, de la biblioteca gràfica <code>Swing</code>, per a crear una finestra que serà el nostre llenç (<em>canvas</em>). De moment no és necesari que comprenguis aquesta Classe. Simplement copia i enganxa.</p>
<p>Crea una Classe nova anomenada &#34;Canvas&#34; i escriu en ella el següent codi:</p>
<pre><code>public class Canvas extends javax.swing.JFrame {
   static Graphics2D g;

   public Canvas() {
       if (g != null) return;
       setSize(600, 400);
       setVisible(true);
       setDefaultCloseOperation(EXIT_ON_CLOSE);
       java.awt.Canvas canvas = new java.awt.Canvas();
       canvas.setPreferredSize(new Dimension(600, 400));
       canvas.setIgnoreRepaint(true);
       add(canvas);
       g = (Graphics2D) canvas.getGraphics();
       pack();
   }

   public static void draw(Circle c) {
       new Canvas();
       g.setColor(c.color);
       g.fillOval(c.positionX, c.positionY, c.radius * 2, c.radius * 2);
   }

   public static void draw(Rectangle r) {
       new Canvas();
       g.setColor(r.color);
       g.fillRect(r.positionX, r.positionY, r.width, r.height);
   }

   public static void draw(Triangle t){
       new Canvas();
       g.setColor(t.color);
       g.fillPolygon(new int[]{t.positionX,t.positionX+t.width/2,t.positionX+t.width},
               new int[]{t.positionY+t.height,t.positionY,t.positionY+t.height},
               3);
   }
}</code></pre>
<h2>Usa la classe  <code>Canvas </code>per a dibuixar les figures </h2>
<p>Afegeix al mètode  <code>main</code>  el següent codi:</p>
<pre><code>Canvas.draw(sun);</code></pre>
<h2>Executa el programa</h2>
<p>Polsa sobre el botó &#34;Run&#34;:</p>
<p><img style="max-width: 196.00px" src="img/5b594bb33856b06a.png"></p>


      </google-codelab-step>
    
      <google-codelab-step label="Crea els objectes window i earth" duration="0">
        <p>Seguim amb la resta d&#39;objectes del nostre dibuix. </p>
<p>Seguim amb els objectes <code>window</code> i <code>earth</code>. Com són de la Classe <code>Circle</code>, que ja està definida, ja podem crear-los.</p>
<p>Afegeix el següent codi al mètode  <code>main</code>  (just a continuació del codi de l&#39;objecte  <code>sun</code>):</p>
<pre><code>public class Main {
   public static void main(String[] args){
       Circle sun = new Circle();
       sun.color = Color.YELLOW;
       sun.positionX = 440;
       sun.positionY = 50;
       sun.radius = 40;

       Circle window = new Circle();
       window.color = Color.GRAY;
       window.positionX = 240;
       window.positionY = 215;
       window.radius = 10;

       Circle earth = new Circle();
       earth.color = Color.GREEN;
       earth.positionX = -300;
       earth.positionY = 250;
       earth.radius = 600;
   }
}</code></pre>
<h2>Usa la classe  <code>Canvas </code>per a dibuixar les figures </h2>
<p>Afegeix al mètode  <code>main</code>  el següent codi:</p>
<pre><code>Canvas.draw(earth);
Canvas.draw(window);</code></pre>


      </google-codelab-step>
    
      <google-codelab-step label="Defineix les classes Rectangle i Triangle." duration="0">
        <p>Un cop creats tots els objectes de tipus cercle, seguirem amb els rectangles (<em>wall</em>, <em>sky</em>) i triangles (<em>roof</em>).</p>
<p>Crea les classes <code>Rectangle</code> i <code>Triangle</code>, i afegeix en elles els camps que defineixen el seu estat.</p>
<pre><code>public class Rectangle {
   int width;
   int height;
   int positionX;
   int positionY;
   Color color;
}</code></pre>
<pre><code>public class Triangle {
   int width;
   int height;
   int positionX;
   int positionY;
   Color color;
}</code></pre>


      </google-codelab-step>
    
      <google-codelab-step label="Crea els objectes sky, wall i roof" duration="0">
        <p>Torna a l&#39;arxiu <code>Main.java</code> i afegeix el següent codi:</p>
<pre><code>Rectangle wall = new Rectangle();
wall.width = 100;
wall.height = 80;
wall.positionX = 200;
wall.positionY = 200;
wall.color = Color.WHITE;

Rectangle sky = new Rectangle();
sky.width = 600;
sky.height = 400;
sky.positionX = 0;
sky.positionY = 0;
sky.color = Color.CYAN;

Triangle roof = new Triangle();
roof.width = 100;
roof.height = 50;
roof.positionX = 200;
roof.positionY = 150;
roof.color = Color.RED;</code></pre>
<h2>Usa la Classe  <code>Canvas </code>per a dibuixar les figures </h2>
<p>Afegeix al mètode  <code>main</code>  el següent codi:</p>
<pre><code>Canvas.draw(sky);
Canvas.draw(wall);
Canvas.draw(roof);</code></pre>


      </google-codelab-step>
    
      <google-codelab-step label="Comprenent les Classes i els Objectes" duration="0">
        <p>Les Classes es poden entendre com una plantilla a partir de la qual es poden crear Objectes. Cada Objecte és una còpia diferent de la plantilla. Per tant cada Objecte té una còpia dels camps que s&#39;han definit a la Classe. Es poden assignar diferents valors a cada camp de cada Objecte de forma independent.</p>
<p>El següent gràfic explica les Classes i Objectes que s&#39;han creat per a fer el dibuix:</p>
<p><img style="max-width: 736.10px" src="img/83bb163ca260a6cc.png"></p>
<p>Els objectes s&#39;emmagatzemen a la memòria de l&#39;ordinador. Com és evident, a la memòria no s&#39;hi poden dibuixar cercles, rectangles, ni triangles. En realitat el que s&#39;està emmagatzemant en memòria és la informació sobre aquests objectes, és a dir els valors dels sus camps. Una representació més adequada dels objectes seria aquesta:</p>
<p><img style="max-width: 736.10px" src="img/e5951ac7b9a9be14.png"></p>


      </google-codelab-step>
    
  </google-codelab>

  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-49880327-14', 'auto');

    (function() {
      var gaCodelab = '';
      if (gaCodelab) {
        ga('create', gaCodelab, 'auto', {name: 'codelab'});
      }

      var gaView;
      var parts = location.search.substring(1).split('&');
      for (var i = 0; i < parts.length; i++) {
        var param = parts[i].split('=');
        if (param[0] === 'viewga') {
          gaView = param[1];
          break;
        }
      }
      if (gaView && gaView !== gaCodelab) {
        ga('create', gaView, 'auto', {name: 'view'});
      }
    })();
  </script>

</body>
</html>
