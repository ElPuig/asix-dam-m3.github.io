
<!doctype html>

<html>
<head>
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
  <meta name="theme-color" content="#4F7DC9">
  <meta charset="UTF-8">
  <title>Fragments</title>
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Source+Code+Pro:400|Roboto:400,300,400italic,500,700|Roboto+Mono">
  <link rel="stylesheet" href="//fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="stylesheet" href="https://storage.googleapis.com/codelab-elements/codelab-elements.css">
  <style>
    .success {
      color: #1e8e3e;
    }
    .error {
      color: red;
    }
  </style>
</head>
<body>
  <google-codelab-analytics gaid="UA-49880327-14"></google-codelab-analytics>
  <google-codelab codelab-gaid=""
                  id="mp08/p9"
                  title="Fragments"
                  environment="web"
                  feedback-link="https://github.com/gerardfp">
    
      <google-codelab-step label="Introducción" duration="0">
        <p>El objetivo de esta práctica es trabajar con <strong>Fragments</strong>.</p>
<p>Un <a href="https://developer.android.com/reference/android/app/Fragment.html" target="_blank"><code>Fragment</code></a> representa un comportamiento o una parte de la interfaz de usuario en una <a href="https://developer.android.com/reference/android/app/Activity.html" target="_blank"><code>Activity</code></a>. Puedes combinar múltiples fragmentos en una sola actividad para crear una IU multipanel y volver a usar un fragmento en múltiples actividades. Puedes pensar en un fragmento como una sección modular de una actividad que tiene su ciclo de vida propio, recibe sus propios eventos de entrada y que puedes agregar o quitar mientras la actividad se esté ejecutando (algo así como una &#34;subactividad&#34; que puedes volver a usar en diferentes actividades).</p>
<p class="image-container"><img style="width: 736.40px" src="img\c203481d5abbe447.png"></p>
<p class="image-container"><img style="width: 436.70px" src="img\af606f2eec6aaf3a.png"></p>
<p class="image-container"><img style="width: 736.40px" src="img\8e598d17ebc08aac.png"></p>
<p class="image-container"><img style="width: 557.00px" src="img\ae63edba6ffdee29.png"></p>


      </google-codelab-step>
    
      <google-codelab-step label="Crea el proyecto" duration="0">
        <p>Selecciona &#34;<strong>Empty Activity</strong>&#34; como plantilla para la MainActivity</p>
<p>Añade las dependencias para incluir el soporte Navigation</p>
<pre><code>dependencies {
  def nav_version = &#34;2.1.0&#34;
 
  implementation &#34;androidx.navigation:navigation-fragment:$nav_version&#34;
  implementation &#34;androidx.navigation:navigation-ui:$nav_version&#34;
}</code></pre>


      </google-codelab-step>
    
      <google-codelab-step label="Crea el Grafo de Navegación" duration="0">
        <p class="image-container"><img style="width: 491.00px" src="img\487b11dcbe47e5b2.png"></p>
<h2 is-upgraded>Añade los fragments al grafo de navegación</h2>
<p class="image-container"><img style="width: 736.40px" src="img\3c2b4e9eaaeb547.png"></p>
<h2 is-upgraded><img style="width: 313.00px" src="img\aa47d8a6e6cb52.png"></h2>
<h2 is-upgraded><img style="width: 489.00px" src="img\73626b22b70e2de0.png"></h2>
<aside class="special"><p>También puedes crear los Fragments haciendo click derecho sobre el package y seleccionando <code>New</code> &gt; <code>Fragment</code></p>
</aside>
<p class="image-container"><img style="width: 736.40px" src="img\cae839b76fc42d95.png"></p>
<h2 is-upgraded>Conecta las destinaciones</h2>
<p class="image-container"><img style="width: 397.00px" src="img\497ebce0f64f7f20.gif"></p>
<p class="image-container"><img style="width: 581.00px" src="img\c9305f9a44cee40a.png"></p>


      </google-codelab-step>
    
      <google-codelab-step label="Añade el NavHost" duration="0">
        <p class="image-container"><img style="width: 557.00px" src="img\cb39dceaf7f938af.png"></p>
<p>En el layout de la MainActivity (<code>activity_main.xml</code>) añade el &lt;fragment&gt; NavHost:</p>
<pre><code>&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;
&lt;androidx.constraintlayout.widget.ConstraintLayout
   xmlns:android=&#34;http://schemas.android.com/apk/res/android&#34;
   xmlns:app=&#34;http://schemas.android.com/apk/res-auto&#34;
   android:layout_width=&#34;match_parent&#34;
   android:layout_height=&#34;match_parent&#34;&gt;

   &lt;fragment
       android:id=&#34;@+id/nav_host_fragment&#34;
       android:name=&#34;androidx.navigation.fragment.NavHostFragment&#34;
       android:layout_width=&#34;0dp&#34;
       android:layout_height=&#34;0dp&#34;
       app:layout_constraintLeft_toLeftOf=&#34;parent&#34;
       app:layout_constraintRight_toRightOf=&#34;parent&#34;
       app:layout_constraintTop_toTopOf=&#34;parent&#34;
       app:layout_constraintBottom_toBottomOf=&#34;parent&#34;

       app:defaultNavHost=&#34;true&#34;
       app:navGraph=&#34;@navigation/nav_graph&#34; /&gt;

&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;</code></pre>


      </google-codelab-step>
    
      <google-codelab-step label="Cambios" duration="0">
        <h2 is-upgraded>onCreate -&gt; onViewCreated</h2>
<pre><code>public class MainActivity extends AppCompatActivity {

   @Override
   protected void onCreate(Bundle savedInstanceState) {
       super.onCreate(savedInstanceState);
       setContentView(R.layout.activity_main);
      
       // Código de la activity
   }
}</code></pre>
<pre><code>public class MainFragment extends Fragment {
  
   public MainFragment() {}

   @Override
   public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {
       return inflater.inflate(R.layout.fragment_main, container, false);
   }

   @Override
   public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {
       super.onViewCreated(view, savedInstanceState);

       // Código del fragment
   }
}</code></pre>
<p class="image-container"><img style="width: 729.00px" src="img\51afc25dbf011ea7.gif"></p>
<h2 is-upgraded>findViewById() -&gt; view.findViewById()</h2>
<pre><code>public class MainActivity extends AppCompatActivity {

   @Override
   protected void onCreate(Bundle savedInstanceState) {
       super.onCreate(savedInstanceState);
       setContentView(R.layout.activity_main);

       TextView textView = findViewById(R.id.textView);
   }
}</code></pre>
<pre><code>public class MainFragment extends Fragment {

   public MainFragment() {}

   @Override
   public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {
       return inflater.inflate(R.layout.fragment_main, container, false);
   }

   @Override
   public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {
       super.onViewCreated(view, savedInstanceState);

       TextView textView = view.findViewById(R.id.textView);
   }
}</code></pre>
<h2 is-upgraded>startActivity() -&gt; navigate()</h2>
<pre><code>startActivity(new Intent(this, OtherActivity.class));</code></pre>
<pre><code>Navigation.findNavController(view).navigate(R.id.otherFragment);</code></pre>
<h2 is-upgraded>this -&gt; requireActivity()</h2>
<pre><code>ViewModelProviders.of(this).get(MainViewModel.class);</code></pre>
<pre><code>ViewModelProviders.of(requireActivity()).get(MainViewModel.class);</code></pre>
<h2 is-upgraded>this -&gt; getViewLifecycleOwner()</h2>
<pre><code>viewModel.liveData.observe(this, new Observer(......</code></pre>
<pre><code>viewModel.liveData.observe(getViewLifecycleOwner(), new Observer(......</code></pre>


      </google-codelab-step>
    
  </google-codelab>

  <script src="https://storage.googleapis.com/codelab-elements/native-shim.js"></script>
  <script src="https://storage.googleapis.com/codelab-elements/custom-elements.min.js"></script>
  <script src="https://storage.googleapis.com/codelab-elements/prettify.js"></script>
  <script src="https://storage.googleapis.com/codelab-elements/codelab-elements.js"></script>

</body>
</html>
