
<!doctype html>

<html>
<head>
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
  <meta name="theme-color" content="#4F7DC9">
  <meta charset="UTF-8">
  <title>Apps</title>
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Source+Code+Pro:400|Roboto:400,300,400italic,500,700|Roboto+Mono">
  <link rel="stylesheet" href="//fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="stylesheet" href="https://storage.googleapis.com/codelab-elements/codelab-elements.css">
  <style>
    .success {
      color: #1e8e3e;
    }
    .error {
      color: red;
    }
  </style>
</head>
<body>
  <google-codelab-analytics gaid="UA-49880327-14"></google-codelab-analytics>
  <google-codelab codelab-gaid=""
                  id="apps"
                  title="Apps"
                  environment="web"
                  feedback-link="/dam-m8">
    
      <google-codelab-step label="Apps" duration="0">
        <p class="image-container"><img style="width: 430.00px" src="img/5980356ca211d1b4.png"></p>
<p>Esta práctica te enseña cómo crear tu primera aplicación para Android. Aprenderás cómo <strong>crear </strong>un proyecto de Android con Android Studio, y <strong>ejecutar </strong>una versión depurable de la aplicación.</p>
<p>Desarrollaremos una App que consiste en un contador de clics:</p>
<p class="image-container"><img style="width: 237.00px" src="img/16d3b5773c10a06e.gif"></p>
<h3 is-upgraded><a href="https://github.com/gerardfp/apps" target="_blank">https://github.com/gerardfp/apps</a></h3>


      </google-codelab-step>
    
      <google-codelab-step label="Obtener Android Studio" duration="0">
        <p>Antes de comenzar, descarga e instala Android Studio </p>
<p><a href="https://developer.android.com/studio/" target="_blank"><paper-button class="colored" raised><iron-icon icon="cloud_download"></iron-icon>Download Android Studio</paper-button></a></p>
<p>Descomprime el zip y ejecuta el lanzador <sc>studio.sh</sc></p>


      </google-codelab-step>
    
      <google-codelab-step label="Crear un proyecto Android" duration="0">
        <ol type="1" start="1">
<li>En Android Studio, crea un nuevo proyecto:<br></li>
</ol>
<ul>
<li>Si todavía no has abierto un proyecto, en la pantalla de <strong>bienvenida</strong>, haz clic en <strong><sc>Nuevo proyecto</sc></strong>.<br><img style="width: 419.00px" src="img/8032f85f56481e5a.png"></li>
<li>Si has abierto un proyecto, ve a <strong><sc>File</sc></strong> &gt; <strong><sc>New</sc></strong> &gt; <strong><sc>New project</sc></strong>.<br></li>
</ul>
<ol type="1" start="2">
<li>Elije la plantilla para la <sc>Activity</sc> principal de la App. Para esta práctica elije &#34;<strong>Empty Activity</strong>&#34;.</li>
</ol>
<p class="image-container"><img style="width: 599.00px" src="img/26a91d65433c605.png"></p>
<ol type="1" start="3">
<li>Rellena los campos de la pantalla.<br><img style="width: 661.00px" src="img/f707dbad21451ca3.png"></li>
</ol>
<aside class="special"><p><strong>Minimum SDK</strong>: es la versión de mínima de Android que deben tener los dispositivos para poder ejecutar la app. Para soportar el máximo de dispositivos que sea posible, se debe establecer a la versión más baja posible. Sin embargo, cuanto más baja es la versión menos características de android modernas puede utilizar la app..</p>
</aside>


      </google-codelab-step>
    
      <google-codelab-step label="Estructura del proyecto" duration="0">
        <p>El proyecto creado es una aplicación básica de &#34;Hello World&#34; que contiene algunos <strong>archivos por defecto</strong>. Veamos los más importantes:</p>
<p class="image-container"><img style="width: 333.00px" src="img/e9aafb4329bd07df.png"></p>
<table>
<tr></tr>
<tr><td colspan="1" rowspan="1"><p><strong><sc>app/src/main/AndroidManifest.xml</sc></strong></p>
<p>El <a href="https://developer.android.com/guide/topics/manifest/manifest-intro.html" target="_blank">archivo de manifiesto</a> describe las características fundamentales de la aplicación y define cada uno de sus componentes. Aquí especificaremos las Activities que tiene nuestra app y los <strong>permisos </strong>que requiere (Cámara, Contactos, Internet, etc.)</p>
</td></tr>
<tr><td colspan="1" rowspan="1"><p><strong><sc>app/src/main/java/com.example.helloworld/MainActivity.java</sc></strong></p>
<p>Contiene la definición de clase para la <strong>Activity</strong> (pantalla) principal. En este fichero programaremos el comportamiento de esta Activity.</p>
</td></tr>
<tr><td colspan="1" rowspan="1"><p><strong><sc>app/src/main/res/layout/activity_main.xml</sc></strong></p>
<p>Este archivo XML define el <em>layout </em>de la actividad, es decir los elementos (widgets) que tiene la pantalla. Por defecto, contiene un elemento <sc>TextView</sc> con el texto &#34;¡Hola mundo!&#34;.</p>
</td></tr>
<tr><td colspan="1" rowspan="1"><p><strong><sc>app/build.gradle</sc></strong></p>
<p>Android Studio utiliza Gradle para compilar y construir la aplicación. Hay un archivo  <sc>build.gradle</sc> para cada módulo del proyecto, así como un archivo <sc>build.gradle</sc> de todo el proyecto. Por lo general, sólo estaremos interesados en el archivo <sc>build.gradle</sc> para el módulo, en este caso el <sc>app</sc> o módulo de aplicación. Aquí es donde se encuentran las dependencias de construcción de la aplicación, incluyendo los ajustes <sc>defaultConfig</sc>:</p>
<ul>
<li><sc>compiledSdkVersion</sc> es la versión de la plataforma con la que va a compilar su aplicación. Por defecto, se establece en la última versión del SDK instalado en el ordenador.<br></li>
<li><sc>applicationId</sc> es el nombre de paquete completo para su aplicación que especificó en el asistente Nuevo proyecto.<br></li>
<li><sc>minSdkVersion</sc> es la versión del SDK mínimo especificado durante el asistente Nuevo proyecto. Esta es la primera versión del SDK de Android que soporta la aplicación.<br></li>
<li><sc>targetSdkVersion</sc> indica la versión más alta de Android con la que ha probado su aplicación.</li>
</ul>
<p>Más adelante usaremos este fichero para instalar nuevas bibliotecas y componentes para nuestra App, en el apartado <sc>dependencies</sc>.</p>
</td></tr>
<tr><td colspan="1" rowspan="1"><p>Veamos también los subdirectorios <strong><sc>/res</sc></strong> que contienen los <a href="https://developer.android.com/guide/topics/resources/overview.html" target="_blank">recursos</a> para la aplicación:</p>
<p><strong><sc>drawable/</sc></strong></p>
<p>Directorio de <strong>imágenes</strong>.</p>
<p><strong><sc>layout/</sc></strong></p>
<p>Directorio para los archivos que definen la <strong>interfaz de usuario</strong> de la aplicación, como <sc>activity_main.xml</sc>, que describe un diseño básico para la <sc>MainActivity</sc>.</p>
<p><strong><sc>mipmap/</sc></strong></p>
<p>Contiene los <strong>iconos</strong> Lanzadores.</p>
<p><strong><sc>values/</sc></strong></p>
<p>Directorio para otros archivos XML que contienen una colección de recursos.</p>
<p>En el archivo <sc>colors.xml</sc> definiremos los <strong>colores</strong> de la app. </p>
<p>En el archivo <sc>strings.xml</sc> definiremos todos los <strong>textos</strong> que se muestren en nuestra app.</p>
<p>En el archivo <sc>styles.xml</sc> definiremos el <strong>tema</strong> de nuestra app.</p>
</td></tr>
</table>


      </google-codelab-step>
    
      <google-codelab-step label="Ejecutar la App" duration="0">
        <p>Este es el aspecto de la App &#34;Hello World&#34;:</p>
<p class="image-container"><img style="width: 248.34px" src="img/2977efb6683f6a96.png"></p>
<h2 is-upgraded>Ejecutar en un dispositivo real</h2>
<p>Configurar el móvil de la siguiente manera:</p>
<ol type="1" start="1">
<li>Conectar el dispositivo a su equipo de desarrollo con un cable USB.<br></li>
<li>Habilitar <strong>la depuración USB</strong> en el dispositivo móvil, yendo a <strong><sc>Ajustes</sc></strong><strong> &gt; </strong><strong><sc>Opciones de desarrollador</sc></strong> .</li>
</ol>
<aside class="warning"><p> Nota: En Android 4.2 y versiones posteriores, <strong>Opciones de desarrollador</strong> se oculta de forma predeterminada. Para que esté disponible, ve a <strong><sc>Ajustes</sc></strong><strong> &gt; </strong><strong><sc>Acerca del teléfono</sc></strong><sc> </sc>y toca <strong>el número de compilación </strong>SIETE veces. Regresa a la pantalla anterior y encontrará las <strong>Opciones de desarrollador</strong>.</p>
</aside>
<p>Ejecutar la aplicación desde Android Studio de la siguiente manera:</p>
<ol type="1" start="1">
<li>Selecciona el dispositivo móvil </li>
</ol>
<p class="image-container"><img style="width: 315.00px" src="img/8ef3a516eeba1a58.png"></p>
<ol type="1" start="2">
<li>Haz clic en <strong>Ejecutar </strong><img style="width: 25.00px" src="img/1db42df252ecc13a.png"> desde la barra de herramientas.<br></li>
</ol>
<p>Android Studio instala la aplicación en el dispositivo conectado y la inicia.</p>
<h2 is-upgraded>Ejecutar en el emulador</h2>
<p>Selecciona el emulador y haz clic en <img style="width: 25.00px" src="img/1db42df252ecc13a.png"></p>
<p class="image-container"><img style="width: 322.00px" src="img/81205f04c4c438d2.png"></p>
<p>Si no tienes ningún emulador creado ve a<strong> AVD Manager</strong> y crea uno:</p>
<p class="image-container"><img style="width: 312.00px" src="img/ce7aded8a8ab3dfc.png"></p>
<p class="image-container"><img style="width: 415.00px" src="img/48f4783707b99677.png"></p>
<p>Selecciona el Hardware y la versión de Android que desees.</p>


      </google-codelab-step>
    
      <google-codelab-step label="Editar el Layout" duration="0">
        <p>En los ficheros XML de la carpeta <sc>res/layout</sc> se define la disposición de <em>widgets</em> de las pantallas.</p>
<p>Por el momento, en la pantalla <sc>activity_main.xml</sc> solamente hay un <sc>TextView</sc> que muestra el texto &#34;Hello world&#34;.</p>
<p>Para editar los ficheros de layout hay dos formas: </p>
<ul>
<li>Modo gráfico: permite arrastrar los widgets de la paleta a la pantalla, y modificar sus atributos.</li>
<li>Modo código: permite modificar directamente el código XML.</li>
</ul>
<p>Habitualmente, trabajaremos en modo código:</p>
<ol type="1" start="1">
<li>Haz doble click sobre el fichero <sc>res/layout/activity_main.xml</sc></li>
<li>Haz click en el icono <img style="width: 53.00px" src="img/6d274adfbd3e3056.png"> (<em>o también Split...</em>)</li>
</ol>
<p class="image-container"><img style="width: 736.10px" src="img/3132c5a5d8301a3e.png"></p>
<p>Modificaremos el layout de la siguiente forma:</p>
<ul>
<li>El TextView que actualmente contiene el texto &#34;Hello World&#34;, lo usaremos para mostrar el contador</li>
<li>Añadiremos un botón que, al ser pulsado, aumentará el contador</li>
</ul>
<h2 is-upgraded>TextView</h2>
<p>Para cambiar el texto de un TextView, hay que modificar el atributo <sc>android:text</sc>.</p>
<p>Cambia el valor de este atributo al texto &#34;Has clicado 0 veces&#34;</p>
<pre><sc>android:text=&#34;Has clicado 0 veces&#34;</sc></pre>
<p class="image-container"><img style="width: 503.00px" src="img/eb1a93877d141ccb.png"></p>
<h2 is-upgraded>Button</h2>
<p>Añade también el <sc>Button</sc> que augmentará el contador:</p>
<pre><sc>&lt;Button
   android:layout_width=&#34;wrap_content&#34;
   android:layout_height=&#34;wrap_content&#34;
   android:text=&#34;Click me!&#34;/&gt;</sc></pre>
<p class="image-container"><img style="width: 501.00px" src="img/72726abc5ed0a7c2.gif"></p>
<aside class="special"><p>Los atributos <sc>layout_width</sc> y <sc>layout_height</sc>, especifican el ancho y el alto del elemento.</p>
<ul>
<li>El valor <sc>&#34;wrap_content&#34;</sc> indica que el ancho/alto se debe adaptar al contenido del elemento. En el caso del Button y el TextView, al texto que contienen.</li>
<li>El valor <sc>&#34;match_parent&#34;</sc> indica que el ancho/alto debe ser el mismo que el del elemento padre.</li>
<li>También se puede establecer un ancho/alto de tamaño fijo en píxeles.</li>
</ul>
</aside>
<h2 is-upgraded>ConstraintLayout</h2>
<p>En el diseño actual del layout podemos ver que la disposición del botón no es la más <em>adecuada</em>:</p>
<p class="image-container"><img style="width: 317.00px" src="img/be7b1d93519105d8.png"></p>
<p>Quizá quedaría mejor si el botón estuviera dispuesto debajo del TextView...</p>
<p>Para disponer los elementos en un <sc>ConstraintLayout</sc> hay que definir las <em>constraints</em> en cada elemento.</p>
<p>Podemos ver las <em>constraints</em> como <strong>muelles</strong> que tiran de un elemento en las cuatro direcciones (arriba, abajo, izquierda y derecha). El elemento queda posicionado en <strong>equilibrio</strong> entre las fuerzas de los muelles que se han definido.</p>
<p>En el caso del TextView vemos que hay definidas cuatro <em>constraints</em>:</p>
<p class="image-container"><img style="width: 350.00px" src="img/7695e271bd1ca41.png"></p>
<p>En cada <em>constraint</em> se indica hacia dónde debe tirar el &#34;muelle&#34;. Podemos ver vemos que:</p>
<ul>
<li>La <sc>constraintBottom</sc> tira del TextView hacia la parte inferior (<sc>toBottomOf</sc>) de su <sc>parent</sc> (su elemento padre es el ConstraintLayout).</li>
<li>La <sc>constraintLeft</sc> (muelle de la izquierda) tira del TextView hacia la parte izquierda (<sc>toLeftOf</sc>) de su parent.</li>
<li>La <sc>constraintRight</sc> tira del TextView <sc>toRightOf</sc> parent.</li>
<li>La <sc>constraintTop</sc> tira de él <sc>toTopOf</sc> parent.</li>
</ul>
<p class="image-container"><img style="width: 489.81px" src="img/4bafb3a7b01d41b.png"></p>
<p>Definiremos las constraints del Button para posicionarlo de esta manera:</p>
<p class="image-container"><img style="width: 310.00px" src="img/edbf604c075a0ad7.png"></p>
<p>La <sc>constraintBottom</sc> del botón tira de él hacia la parte inferior de su padre (el ConstraintLayout).</p>
<p>La <sc>constraintLeft</sc> hacia la parte izquierda de su padre.</p>
<p>La <sc>constraintRight</sc> hacia la parte derecha de su padre.</p>
<p>Hasta aquí la cosa es sencilla. Basta definir las constraints igual que en el TextView. Estas constraints apuntan todas al elemento padre:</p>
<p class="image-container"><img style="width: 344.00px" src="img/41fc3b1199b9a5b1.png"></p>
<p>En la <sc>constraintTop</sc> la cosa cambia. Podemos ver que la <sc>constraintTop</sc> tira del botón <strong>hacia la parte inferior</strong> del TextView.</p>
<p>Para hacer referencia al <em>elemento padre</em> hemos visto que podemos usar <sc>parent</sc>. Pero ¿cómo hacemos referencia al TextView? Para ello hay que asignarle un <strong>identificador</strong> al TextView.</p>
<p>Para asignar un identificador a un elemento hay que usar el atributo <sc>android:id</sc>, y en el valor hay que poner <sc>@+id/</sc> antes del identificador que queramos asignarle. Para asignar el identificador &#34;contadorDeClics&#34; al TextView añadiremos pues el atributo <sc>android:id=&#34;@+id/contadorDeClics&#34;</sc>.</p>
<pre><sc>android:id=&#34;@+id/contadorDeClics&#34;</sc></pre>
<p class="image-container"><img style="width: 629.00px" src="img/ff3031e37006d92f.gif"></p>
<p>Ahora ya podemos añadir la <sc>constraintTop</sc> al botón y decirle que apunte hacia la parte inferior del TextView:</p>
<pre><sc>&lt;Button
   android:id=&#34;@+id/augmentarElContador&#34;
   android:layout_width=&#34;wrap_content&#34;
   android:layout_height=&#34;wrap_content&#34;
   android:text=&#34;Click me!&#34;
   app:layout_constraintBottom_toBottomOf=&#34;parent&#34;
   app:layout_constraintLeft_toLeftOf=&#34;parent&#34;
   app:layout_constraintRight_toRightOf=&#34;parent&#34;
   app:layout_constraintTop_toBottomOf=&#34;@+id/contadorDeClics&#34;/&gt;</sc></pre>
<aside class="special"><p>También hemos agragado el identificador <sc>augmentarElContador</sc> al botón. Ya que en el siguiente apartado haremos referencia a este botón desde el código Java.</p>
</aside>
<p>El código completo del layout quedará así:</p>
<h3 is-upgraded><a href="https://github.com/gerardfp/ContadorDeClics/blob/master/app/src/main/res/layout/activity_main.xml" target="_blank">app/src/main/res/layout/activity_main.xml</a></h3>
<pre><sc>&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;
&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&#34;http://schemas.android.com/apk/res/android&#34;
   xmlns:app=&#34;http://schemas.android.com/apk/res-auto&#34;
   xmlns:tools=&#34;http://schemas.android.com/tools&#34;
   android:layout_width=&#34;match_parent&#34;
   android:layout_height=&#34;match_parent&#34;
   tools:context=&#34;.MainActivity&#34;&gt;

   &lt;TextView
       android:id=&#34;@+id/contadorDeClics&#34;
       android:layout_width=&#34;wrap_content&#34;
       android:layout_height=&#34;wrap_content&#34;
       android:text=&#34;Has clicado 0 veces&#34;
       app:layout_constraintBottom_toBottomOf=&#34;parent&#34;
       app:layout_constraintLeft_toLeftOf=&#34;parent&#34;
       app:layout_constraintRight_toRightOf=&#34;parent&#34;
       app:layout_constraintTop_toTopOf=&#34;parent&#34; /&gt;

   &lt;Button
       android:id=&#34;@+id/augmentarElContador&#34;
       android:layout_width=&#34;wrap_content&#34;
       android:layout_height=&#34;wrap_content&#34;
       android:text=&#34;Click me!&#34;
       app:layout_constraintBottom_toBottomOf=&#34;parent&#34;
       app:layout_constraintLeft_toLeftOf=&#34;parent&#34;
       app:layout_constraintRight_toRightOf=&#34;parent&#34;
       app:layout_constraintTop_toBottomOf=&#34;@+id/contadorDeClics&#34;/&gt;

&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;</sc></pre>


      </google-codelab-step>
    
      <google-codelab-step label="Programar el comportamiento" duration="0">
        <p>Si ejecutas la app, verás el texto y el botón. Sin embargo, cuando clicas en el botón, este no hace nada. No se ha definido el comportamiento de dicho botón.</p>
<p>Para agregar un comportamiento al botón debemos realizarlo en el código Java (o también Kotlin). Escribiremos el código en el fichero <sc>MainActivity.java</sc>.</p>
<p class="image-container"><img style="width: 466.00px" src="img/eec932f671a224f9.png"></p>
<p>En este fichero hay definida la clase <sc>MainActivity</sc>, y en ella el método <sc>onCreate</sc>.</p>
<p>Este método <sc>onCreate</sc> es el que el sistema android ejecuta en primer lugar cuando se inicia nuestra App.</p>
<p>En este método lo primero que debes observar es la llamada <sc>setContentView(R.layout.activity_main)</sc>. Esta llamada establece el layout <sc>activity_main.xml</sc>, es decir, lo que se mostrará en pantalla es lo que hemos puesto en este fichero de layout (el TextView y el Button).</p>
<p>Una vez visto esto vayamos al código necesario para nuestro contador. Necesitaremos:</p>
<ol type="1" start="1">
<li>Una variable <sc>int</sc> que vaya almacenando el contador</li>
<li>Programar el Button para que, cada vez que se haga click, augmente el contador y actualice el TextView</li>
</ol>
<p>Crear la variable para almacenar el número de clicks es la parte más sencilla:</p>
<pre><sc>public class MainActivity extends AppCompatActivity {

   int contador;

   @Override
   protected void onCreate(Bundle savedInstanceState) {
       super.onCreate(savedInstanceState);
       setContentView(R.layout.activity_main);
   }
}</sc></pre>
<h2 is-upgraded>findViewById</h2>
<p>Para programar el comportamiento del Button, y luego actualizar el texto del TextView, necesitaremos tener una <strong>referencia</strong> a estos dos elementos.</p>
<p>Para ello definiremos una variable para cada elemento y llamaremos al método <sc>findViewById()</sc> para vincular estas variables con los elementos del layout correspondientes. Al método <sc>findViewById()</sc> hay que pasarle el identificador que hayamos definido en el fichero XML.</p>
<pre><sc>public class MainActivity extends AppCompatActivity {
  
   int contador;
   TextView contadorDeClics;
   Button augmentarElContador;

   @Override
   protected void onCreate(Bundle savedInstanceState) {
       super.onCreate(savedInstanceState);
       setContentView(R.layout.activity_main);

       contadorDeClics = findViewById(R.id.contadorDeClics);
       augmentarElContador = findViewById(R.id.augmentarElContador);
   }
}</sc></pre>
<aside class="special"><p>Observa que las llamadas a <sc>findViewById</sc> las hemos hecho después de establecer el layout <sc>activity_main.xml</sc>. El método <sc>findViewById</sc> buscará los elementos en este fichero. </p>
</aside>
<p><strong>Opcionalmente</strong>, se puede activar el ViewBinding para no tener que hacer las llamadas a findViewById para vincular los elementos del XML con las variables JAVA.</p>
<p>Imagina que en lugar de 1 botón y 1 textview, tenemos 10 botones y 5 textviews... són 15 variables y 15 llamadas a findViewById !!</p>
<p>Para activar el ViewBinding hay que ir al fichero <sc>build.gradle (Module: app)</sc> y añadir la siguiente configuración:</p>
<h3 is-upgraded><a href="https://github.com/gerardfp/ContadorDeClics/blob/master/app/build.gradle" target="_blank"><strong>app/build.gradle</strong></a></h3>
<pre>android {
   . . .
   viewBinding {
       enabled = true
   }

   buildFeatures {
       viewBinding = true
   }

}</pre>
<p>Luego hay que definir una única variable y a partir de ésta podremos acceder a los elementos XML. También hay que modificar la llamada a setContentView, de la siguiente manera:</p>
<pre><sc>public class MainActivity extends AppCompatActivity {

   ActivityMainBinding binding;

   @Override
   protected void onCreate(Bundle savedInstanceState) {
       super.onCreate(savedInstanceState);
//        setContentView(R.layout.activity_main);
      
       binding = ActivityMainBinding.inflate(getLayoutInflater());
       setContentView(binding.getRoot());
   }
}</sc></pre>
<p>De esta forma, para acceder al Button y al TextView (y los otros elementos que tuviésemos) podemos hacerlo directamente a través de la variable <sc>binding</sc> y el identificador de los elementos, así:</p>
<p><sc>binding.contadorDeClics</sc></p>
<p><sc>binding.augmentarElContador</sc></p>
<h2 is-upgraded>OnClickListener</h2>
<p>Un vez tenemos vinculados el Button y el TextView, el siguiente paso es programar el botón para que responda al CLICK (aumentando el contador y mostrando el texto en el TextView).</p>
<p>Para que el boton responda al evento CLICK, hay que hacer una llamada al método setOnClickListener y pasarle un objeto de clase View.OnClickListener. En el método onClick de este objeto programaremos lo que queremos que se haga cuando se pulse el botón:</p>
<pre><sc>public class MainActivity extends AppCompatActivity {

   int contador;
   TextView contadorDeClics;
   Button augmentarElContador;

   @Override
   protected void onCreate(Bundle savedInstanceState) {
       super.onCreate(savedInstanceState);
       setContentView(R.layout.activity_main);

       contadorDeClics = findViewById(R.id.contadorDeClics);
       augmentarElContador = findViewById(R.id.augmentarElContador);

       augmentarElContador.setOnClickListener(new View.OnClickListener() {
           @Override
           public void onClick(View view) {
               // aumentar el contador
               // mostrar el contador en el TextView
           }
       });
   }
}</sc></pre>
<p class="image-container"><img style="width: 629.00px" src="img/48d2ca652896d97a.gif"></p>
<aside class="warning"><p>Si has usado ViewBinding, recuerda poner <sc>binding.augmentarElContador</sc> en lugar de <sc>augmentarElContador</sc>.</p>
</aside>
<p>Ahora, dentro del método <sc>onClick</sc> del <em>listener</em>, solo hay que incrementar el contador y cambiar el texto del TextView. </p>
<p>Para cambiar el texto hacemos una llamada al método <sc>setText()</sc> del TextView.</p>
<p>Finalmente, el código de la aplicación queda así:</p>
<h3 is-upgraded><a href="https://github.com/gerardfp/ContadorDeClics/blob/master/app/src/main/java/com/company/contadordeclics/MainActivity.java" target="_blank">app/src/main/java/com/company/contadordeclics/MainActivity.java</a></h3>
<pre><sc>public class MainActivity extends AppCompatActivity {

   int contador;
   TextView contadorDeClics;
   Button augmentarElContador;

   @Override
   protected void onCreate(Bundle savedInstanceState) {
       super.onCreate(savedInstanceState);
       setContentView(R.layout.activity_main);

       contadorDeClics = findViewById(R.id.contadorDeClics);
       augmentarElContador = findViewById(R.id.augmentarElContador);

       augmentarElContador.setOnClickListener(new View.OnClickListener() {
           @Override
           public void onClick(View view) {
               contador++;
               contadorDeClics.setText(&#34;Has clicado &#34; + contador + &#34; veces&#34;);
           }
       });
   }
}</sc></pre>
<p>Si has usado ViewBinding, el código quedaría así:</p>
<pre><sc>public class MainActivity extends AppCompatActivity {

   int contador;
   ActivityMainBinding binding;

   @Override
   protected void onCreate(Bundle savedInstanceState) {
       super.onCreate(savedInstanceState);
       binding = ActivityMainBinding.inflate(getLayoutInflater());
       setContentView(binding.getRoot());
      
       binding.augmentarElContador.setOnClickListener(new View.OnClickListener() {
           @Override
           public void onClick(View view) {
               contador++;
               binding.contadorDeClics.setText(&#34;Has clicado &#34; + contador + &#34; veces&#34;);
           }
       });
   }
}</sc></pre>


      </google-codelab-step>
    
      <google-codelab-step label="Práctica" duration="0">
        <h2 is-upgraded><img style="width: 13.00px" src="img/f22abb3936d9dac0.png"> P1-MultiContador</h2>
<p>Desarrolla una app llamada &#34;P1 MultiContador&#34; que haga la función de un contador de personas.</p>
<p class="image-container"><img style="width: 315.50px" src="img/8d90e83c091873a9.png"></p>
<p>La app debe tener 4 contadores independientes y un contador global (que lleve la suma de los 4 contadores).</p>
<p>Debe haber un botón de reset para cada contador y un botón de reset global que resetee los 4 contadores a la vez.</p>
<p>Puedes utilizar la siguiente app como modelo para el multicontador</p>
<p class="image-container"><img style="width: 272.00px" src="img/7990ed333c2f9dab.gif"></p>
<p>En la siguiente imagen puedes ver las constraints que se han definido en el layout:</p>
<p class="image-container"><img style="width: 719.00px" src="img/f1e68ec025fc4cae.png"></p>
<p>Valida la disposición de los elementos en el ConstraintLayout utilizando el &#34;Layout Validator&#34;:</p>
<p class="image-container"><img style="width: 736.10px" src="img/c586cd9dca89bdea.png"></p>


      </google-codelab-step>
    
  </google-codelab>

  <script src="https://storage.googleapis.com/codelab-elements/native-shim.js"></script>
  <script src="https://storage.googleapis.com/codelab-elements/custom-elements.min.js"></script>
  <script src="https://storage.googleapis.com/codelab-elements/prettify.js"></script>
  <script src="https://storage.googleapis.com/codelab-elements/codelab-elements.js"></script>

</body>
</html>
