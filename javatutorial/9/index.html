<!DOCTYPE html>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<script type="module" src="/sofi/js/script.js"></script>
<link rel="stylesheet" href="/sofi/css/estil.css">

<nav></nav> 
<header>
    <h1>Classes i objectes</h1>
    <abstract>
        <p>        </p>
        <p>Aprendràs:</p>
        <check>A declarar <strong>classes</strong></check>
        <check>A crear <strong>objectes</strong> d'aquestes classes</check>
    </abstract>
</header>

<!--Analogy, Diagram, Example, Plain English, Technical-->
<section>
    <h2>Classes i objectes</h2>

    <p>Un objecte és una agrupació de variables (i mètodes, que veurem més endavant). S'utilitzen per a organitzar el codi, agrupant aquelles
        variables i mètodes que estan relacionades entre sí.</p>

    <p>Si seguim l'analogia de les capses que vam utilitzar per a les variables i arrays, podríem veure un objecte com una capsa
        que a dintre conté altres capses.
    </p>
    

    <p>Per exemple, si estem fent un programa per a gestionar un institut, segurament necessitem guardar dades dels alumnes.
        Per exemple, podríem utilitzar aquestes tres variables per a guardar les dades d'un alumne:
    </p>

    <sc java>
        String nom = "Joan";
        int edat = 25;
        float nota = 7.5f;
    </sc>

    <img style="width: 340px" src="img/c1.png">

    <p>Un objecte ens permetria tenir aquestes tres variables agrupades.</p>

    <h3>Crear objectes</h3>

    <p>Per a crear objectes, primer s'ha de definir una classe especificant quines variables tindran aquests objectes.</p>

    <p>Definim la classe <w>Alumne</w> i especifiquem les tres variables que tindran els objectes d'aquesta classe:</p>
    <sc java>
        class Alumne {
            String nom;
            int edat;
            float nota;
        }
    </sc>

    <p>Un cop definida la classe, es poden crear objectes a partir d'ella d'aquesta manera:</p>

    <sc java>
        Alumne unAlumne = new Alumne();
    </sc>

    <p>A partir de la definició de la classe <w>Alumne</w> hem creat un objecte i l'hem assignat a la variable <w>unAlumne</w>.
        L'objecte al que fa referència la variable <w>unAlumne</w> conté totes les variables que s'han definit a classe <w>Alumne</w>. 
    Se sol dir que la definició d'una classe és com el plànol amb el qual s'han de construir els objectes d'aquesta classe.
    </p>

    <img style="width: 600px"  src="img/c2.png">

    <p>Podem utilitzar la definició de la classe <w>Alumne</w> per a crear nous objectes d'aquesta classe. Per exemple, podem crear 
    un nou objecte per a guardar les dades d'un altre alumne:</p>

    <sc java>
        Alumne unAltreAlumne = new Alumne();
    </sc>

    <img style="width: 600px" src="img/c4.png">


    <p>Per a accedir a les variables que hi ha a dintre d'un objecte utilitzarem l'operador punt <w>.</w>:</p>

    <sc java>
        unAlumne.nom = "Joan";
        unAlumne.edat = 25;
        unAlumne.nota = 7.5f;
    </sc>

    <img style="width: 300px"  src="img/c3.png">

    <p>Així doncs, la sintaxi per a definir una classe és:</p>

    <sc java>
        class NomClasse {
            tipus nomCamp;
            tipus nomCamp2;

            ...
        }
    </sc>

    <p>Per a crear objectes d'una classe:</p>

    <sc java>
        NomClasse nomObjecte = new NomClasse();
    </sc>

    <p>Per a accedir als camps d'un objecte utilitzarem:</p>

    <sc java>
        nomObjecte.nomCamp
    </sc>

    <h3>Arrays d'objectes</h3>

    <p>Si destijem guardar dades de diversos alumnes, posem que en són tres, ens serà convinent utilitzar un array d'objectes de classe <w>Alumne</w>:</p>

    <sc java>
        Alumne[] alumnes = new Alumne[3];

        alumnes[0] = new Alumne();
        alumnes[0].nom = "Joan";
        alumnes[0].edat = 25;
        alumnes[0].nota = 7.5f;

        alumnes[1] = new Alumne();
        alumnes[1].nom = "Anna";
        alumnes[1].edat = 30;
        alumnes[1].nota = 8.75f;

        alumnes[2] = new Alumne();
        alumnes[2].nom = "Marc";
        alumnes[2].edat = 18;
        alumnes[2].nota = 6.2f;
    </sc>

    <img src="img/obj1.png">
    <!--
    // TODOOO
    <p>
    Sharing references

    More than one variable can refer to the same object.
    </p>

    <p>
        It is important to understand that two variables refer to the same data in memory rather than two independent copies. Since our class is mutable, we can modify the object using both references.
    </p>
    <p>Les variables de les clases s'anomenen camps</p>
    <p>
        Nullability

As for any reference types, a variable of a class-type can be null which means it is not initialized yet.

Patient patient = null;

This is a common feature in Java available for classes since they are reference types.
    </p>
    <sc java>
        class Patient {

            String name;
            int age;
            float height;
        }
    </sc>

    -->
</section>



<section>

    <quizz>
        <question single>
            <statement>
                <p>Per a definir una classe amb un camp enter, quina és la forma correcta de fer-ho?</p>
            </statement>
            <o>
                <sc java>
                    new LaMevaClasse() { }
                </sc>
            </o>
            <o>
                <sc java>
                    class LaMevaClasse(){
                        int elMeuCamp;
                    }
                </sc>
            </o>
            <o>
                <sc java>
                    LaMevaClasse {
                        int elMeuCamp;
                    }
                </sc>
            </o>
            <o correct>
                <sc java>
                    class LaMevaClasse {
                        int elMeuCamp;
                    }
                </sc>
            </o>
            <o>
                <sc java>
                    LaMevaClasse() {
                        int elMeuCamp;
                    }
                </sc>
            </o>
        </question>
        <question multi>
            <statement>
                <p>Donada la següent classe:</p>
                <sc java>
                    class Point3D {
                        double x, y, z;
                    }
                </sc>
                <p>Diges les afirmacions correctes sobre ella:</p>
            </statement>
            <o correct>La classe té tres camps del mateix tipus</o>
            <o correct>La sentència <w>Ponint3D p = new Ponint3D();</w> crea un objecte d'aquesta classe</o>
            <o>La declaració de la classe és incorrecta</o>
            <o>Els valors dels camps són sempre els mateixos per a tots els objectes de la classe.</o>
        </question>
        <question single>
            <statement>
                <p>Quina és la paraula-clau per a crear objectes d'una classe?</p>
            </statement>
            <o>throw</o>
            <o>type</o>
            <o correct>new</o>
            <o>create</o>
        </question>
        <question single>
            <statement>
                <p>Suposa qe tens aquesta classe al teu programa:</p>
                <sc java>
                    class Hotel {
                        String name;
                        String address;
                        int rating;
                    }
                </sc>
                <p>Hi han diversos objectes d'aquesta classe:</p>
                <sc java>
                    Hotel h1 = new Hotel();
                    Hotel h2 = new Hotel();
                    Hotel h3 = h2;

                    h2.rating = 9;
                    h3.rating = 8;
                    h1.rating = 7;
                </sc>
                <p>Quin és el valor de <w>h2.rating</w> després d'executar el codi anterior?</p>
            </statement>
            <o>0</o>
            <o>9</o>
            <o>7</o>
            <o correct>8</o>

        </question>
    </quizz>

    <challenge>
        <a href="https://www.hackerrank.com/contests/dam-m3/challenges/definir-la-classe-comptecorrent">Definir la classe CompteCorrent</a>
        
    </challenge>
</section>

<section>
    <h2>Variables primitives i de referència</h2>

    <p>Les variables en Java es classifiquen en "primitives" i "de referència".</p>

    <p>Les variables <strong>primitives</strong> són aquelles de tipus <w>int</w>, <w>float</w>, <w>boolean</w>, <w>char</w>, ... Per exemple:</p>

    <sc java>
        int unNumero;
        float unAltreNumero;
        
        // les variables 'unNumero' i 'unAltreNumero' són variables primitives.
    </sc>
    <p>Les variables <strong>de referència</strong> són aquelles les quals el seu tipus és un array o una classe. Per exemple:</p>

    <sc java>
        int[] unArrayDeNumeros;
        Alumne alumne;
        Alumne[] alumnes;

        // les variables 'unArrayDeNumeros', 'alumne' i 'alumnes' són variables de referència.
    </sc>
    
    <p>Les variables prmitives emmagatzemen el valor que se les assigna, mentre que les variables de referència emmgatzemen una 
        referència a l'objecte o array que se les assigna.
    </p>

    <sc java>
        int unNumero = 99;

        int[] tresNumeros = new int[3];

        class Alumne {
            int edat;
            float nota;
        }

        Alumne alumne = new Alumne();
    </sc>

    <img src="img/ref1.png">

    <p>La diferència entre emmagatzemar el valor o la referència s'observa quan assignem el valor d'una variable a un altra, 
        de forma directa amb <w>=</w>, o quan fem el pas de paràmetres a mètodes.
    </p>

    <p>Vejem què passa quan assignem una variable <strong>primitiva</strong> a una altra:</p>

    <stepper class="stepper2">
        <step>
            <explanation>
                 <img src="img/refb0.png">
            </explanation>
            <sc java>
                int numA = 98 + 1;
        
                int numB = numA;
        
                numB = 55;
        
                System.out.println(numA);       // 99
                System.out.println(numB);       // 55
            </sc>
        </step>
        <step>
            <explanation>
                 <img src="img/refb0.png">
            </explanation>
            <sc java>
                int numA = <h>98 + 1</h>;
        
                int numB = numA;
        
                numB = 55;
        
                System.out.println(numA);       // 99
                System.out.println(numB);       // 55
            </sc>
        </step>
        <step>
            <explanation>
                <img src="img/refb1.png">
            </explanation>
            <sc java>
                <h>int numA = 98 + 1;</h>
        
                int numB = numA;
        
                numB = 55;
        
                System.out.println(numA);       // 99
                System.out.println(numB);       // 55
            </sc>
        </step>
        <step>
            <explanation>
                  <img src="img/refb2.png">
            </explanation>
            <sc java>
                int numA = 98 + 1;
        
                <h>int numB = numA;</h>
        
                numB = 55;
        
                System.out.println(numA);       // 99
                System.out.println(numB);       // 55
            </sc>
        </step>
        <step>
            <explanation>
                  <img src="img/refb3.png">
            </explanation>
            <sc java>
                int numA = 98 + 1;
        
                int numB = numA;
        
                <h>numB = 55;</h>
        
                System.out.println(numA);       // 99
                System.out.println(numB);       // 55
            </sc>
        </step>
        <step>
            <explanation>
                  <img src="img/refb4.png">
            </explanation>
            <sc java>
                int numA = 98 + 1;
        
                int numB = numA;
        
                numB = 55;
        
                <h>System.out.println(numA);</h>       // 99
                System.out.println(numB);       // 55
            </sc>
        </step>
        <step>
            <explanation>
                  <img src="img/refb4.png">
            </explanation>
            <sc java>
                int numA = 98 + 1;
        
                int numB = numA;
        
                numB = 55;
        
                System.out.println(numA);       // 99
                <h>System.out.println(numB);</h>       // 55
            </sc>
        </step>
        
    </stepper>
   
    <p>Vejem què passa quan assignem una variable <strong>de referència</strong> a una altra:</p>
    <stepper class="stepper2">
        <step>
            <explanation>
                <img src="img/refc0.png">
            </explanation>
            <sc java>
                class Alumne {
                    float nota;
                }

                Alumne aluA = new Alumne();
                aluA.nota = 10;

                Alumne aluB = aluA;
                aluB.nota = 5;

                System.out.println(aluA.nota);
                System.out.println(aluB.nota);
            </sc>
        </step>
        <step>
            <explanation>
                <img src="img/refc0.png">
            </explanation>
            <sc java>
                class Alumne {
                    float nota;
                }

                Alumne aluA = <h>new Alumne()</h>;
                aluA.nota = 10;

                Alumne aluB = aluA;
                aluB.nota = 5;

                System.out.println(aluA.nota);
                System.out.println(aluB.nota);
            </sc>
        </step>
        <step>
            <explanation>
                <img src="img/refc1.png">
            </explanation>
            <sc java>
                class Alumne {
                    float nota;
                }

                <h>Alumne aluA = new Alumne();</h>
                aluA.nota = 10;

                Alumne aluB = aluA;
                aluB.nota = 5;

                System.out.println(aluA.nota);
                System.out.println(aluB.nota);
            </sc>
        </step>
        <step>
            <explanation>
                <img src="img/refc2.png">
            </explanation>
            <sc java>
                class Alumne {
                    float nota;
                }

                Alumne aluA = new Alumne();
                <h>aluA.nota = 10;</h>

                Alumne aluB = aluA;
                aluB.nota = 5;

                System.out.println(aluA.nota);
                System.out.println(aluB.nota);
            </sc>
        </step>
        <step>
            <explanation>
                <img src="img/refc3.png">
            </explanation>
            <sc java>
                class Alumne {
                    float nota;
                }

                Alumne aluA = new Alumne();
                aluA.nota = 10;

                <h>Alumne aluB = aluA;</h>
                aluB.nota = 5;

                System.out.println(aluA.nota);
                System.out.println(aluB.nota);
            </sc>
        </step>
        <step>
            <explanation>
                <img src="img/refc4.png">
            </explanation>
            <sc java>
                class Alumne {
                    float nota;
                }

                Alumne aluA = new Alumne();
                aluA.nota = 10;

                Alumne aluB = aluA;
                <h>aluB.nota = 5;</h>

                System.out.println(aluA.nota);
                System.out.println(aluB.nota);
            </sc>
        </step>
        <step>
            <explanation>
                <img src="img/refc5.png">
            </explanation>
            <sc java>
                class Alumne {
                    float nota;
                }

                Alumne aluA = new Alumne();
                aluA.nota = 10;

                Alumne aluB = aluA;
                aluB.nota = 5;

                <h>System.out.println(aluA.nota);</h>
                System.out.println(aluB.nota);
            </sc>
        </step>
        <step>
            <explanation>
                <img src="img/refc5.png">
            </explanation>
            <sc java>
                class Alumne {
                    float nota;
                }

                Alumne aluA = new Alumne();
                aluA.nota = 10;

                Alumne aluB = aluA;
                aluB.nota = 5;

                System.out.println(aluA.nota);
                <h>System.out.println(aluB.nota);</h>

            </sc>
        </step>
    </stepper>
</section>