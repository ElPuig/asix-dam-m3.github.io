<!DOCTYPE html>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<script type="module" src="/sofi/js/script.js"></script>
<link rel="stylesheet" href="/sofi/css/estil.css">

<nav></nav> 
<header>
    <h1>Sentències de repetició</h1>
    <abstract>
        <p>Les sentències de repetició permeten repetir l'execució 
            d'un bloc de codi més d'una vegada.
            Per a fer-ho, Java proporciona les sentències <w>for</w>, <w>while</w>
            i <w>do-while</w>.
        </p>
        <p>Aprendràs:</p>
        <check>A utlitzar la sentència <strong>for</strong></check>
        <check>A utlitzar les sentències <strong>while</strong> i <strong>do-while</strong></check>
    </abstract>
</header>

<section>
    <h2>Sentència For</h2>

    <p>La sentència <w>for</w> proporciona una forma comptacta 
    d'iterar (<em>repetir</em>) un bloc de codi. Habitualment 
    se l'anomena <strong>bucle for</strong>.</p>

    <p>El <w>for</w> té la següent sintaxi:</p>

    <code java>
        for (inicialitzacio; condicio; modificacio){
            // bloc de codi
        }
    </code>
    <p>Fixa't que les tres parts es separen amb punt-i-coma <w>;</w>.</p>

    <p>Les parts del <em>bucle</em> són:</p>

    <ul>
        <li><p><strong>inicialització</strong>: s'executa una vegada abans 
        que comenci el bucle. Normalment s'utilitza per a incialitzar variables.
        Aquestes variables només es poden utilitzar a dintre del bucle.</p></li>
        <li><p><strong>condició</strong>: és una expressió booleana que determina
        si s'ha de fer la següent iteració del bucle. Si és <w>false</w> el 
        bucle finalitza.</p></li>
        <li><p><strong>modificació</strong>: s'executa després de cada iteració 
        del bucle. Normalment d'utilitza per a modificar les variables del bucle.</p></li>
    </ul>

    <p>A dintre del bloc del bucle, el programa pot realitzar qualssevol sentències vàlides.
        Pot inclús tenir altres sentències de bucle.
    </p>

    <p>El bucle <w>for</w> s'utilitza freqüentment per a iterar en un rang de valors. Anem 
    a escriure un bucle-for per a imprimir números de 0 a 9 a la mateixa línia:</p>

    <stepper style="--code-height:7.8; --mem-height:2.6; --shell-height:10.2; --comment-height:2.6;  --code-width:30;">
        <step>
            <comment>
            </comment>
            <code java>
                int n = 10;
                for (int i = 0; i &lt; n; i++) {
                    System.out.print(i + " ");
                }  
            </code>
            <mem>

            </mem>
            <shell>

            </shell>
        </step>
        <step>
            <comment>
            </comment>
            <code java>
                <h>int n = 10;</h>
                for (int i = 0; i &lt; n; i++) {
                    System.out.print(i + " ");
                }  
            </code>
            <mem>

            </mem>
            <shell>

            </shell>
        </step>
        <step>
            <comment>
            </comment>
            <code java>
                int n = 10;
                for (<h>int i = 0</h>; i &lt; n; i++) {
                    System.out.print(i + " ");
                }  
            </code>
            <mem>
                n: 9
            </mem>
            <shell>

            </shell>
        </step>
        <step>
            <comment>
            </comment>
            <code java>
                int n = 10;
                for (int i = 0; <h>i &lt; n</h>; i++) {
                    System.out.print(i + " ");
                }  
            </code>
            <mem>
                n: 9
                i: 0
            </mem>
            <shell>

            </shell>
        </step>
    </stepper>
    <p>Aquestes tres parts són opcionals, es poden posar o no segons convingui.</p>
    <p>Per exemple, el següent <w>for</w> no utilitza cap de les tres:</p>
    <code java>
        for (;;) {
            System.out.println("all work and no play makes jack a dull boy");
        }
    </code>
    <shell>
        all work and no play makes jack a dull boy
        all work and no play makes jack a dull boy
        all work and no play makes jack a dull boy
        all work and no play makes jack a dull boy
        ...
        ...        
    </shell>

    <p>El bucle for itera el bloc de codi fins que la condició és <w>false</w>, 
    com no hem posat cap condició, el bucle itera indefinidament.</p>

    <h3>Condició</h3>
    <p>Comencem amb la <w>condició</w>, l'expressió booleana que determina si
    s'ha de realitzar una iteració del bucle.</p>

    <p>Al següent exemple només s'especifica la condició, no la incialització 
        ni la modificació:
    </p>
    <code java>
        Scanner scanner = new Scanner(System.in);

        for(; scanner.next().equals("yes"); ){
            System.out.println("Tornem a repetir");
        }
    </code>
    <shell>
        <in>yes</in>
        Tornem a repetir
        <in>yes</in>
        Tornem a repetir
        <in>yes</in>
        Tornem a repetir
        <in>prou!</in>
    </shell>

    <p>El <strong>bucle-for</strong> d'aquest exemple avalua si la condició és <w>true</w>, és a dir, 
    si la paraula llegida amb l'scanner és igual a <string>si</string>. 
    Si aquesta condició és <w>true</w> aleshores realitza una iteració del bloc 
    de codi: imprimeix <string>Tornem a repetir</string>. Aleshores torna a avaluar
    l'expresió, si torna a ser <w>true</w> fa una altra iteració. I torna a avaluar
    l'expressió, fins que resulti <w>false</w>, i aleshores ja no executa el bloc de 
    codi.</p>

    <p>Una altre petit exemple, el programa "Endevina el número":</p>
    <stepper style="--code-height:7.8; --mem-height:2.6; --shell-height:10.2; --comment-height:2.6;  --code-width:30;">
        <step>
            <comment>
            </comment>
            <code java>
                System.out.println("Endevina el número secret:");
                for(; scanner.nextInt() != 6;) {
                    System.out.println("Segueix intentant-ho");
                }
                System.out.println("L'has endevinat!");
            </code>
            <mem>
            </mem>
            <shell>
            </shell>
        </step>
        <step>
            <comment>
            </comment>
            <code java>
                <h>System.out.println("Endevina el número secret:");</h>
                for(; scanner.nextInt() != 6;) {
                    System.out.println("Segueix intentant-ho");
                }
                System.out.println("L'has endevinat!");
            </code>
            <mem>
            </mem>
            <shell>
            </shell>
        </step>
        <step>
            <comment>
                
            </comment>
            <code java>
                System.out.println("Endevina el número secret:");
                for(; <h>scanner.nextInt() != 6</h>;) {
                    System.out.println("Segueix intentant-ho");
                }
                System.out.println("L'has endevinat!");
            </code>
            <mem>
            </mem>
            <shell>
                Endevina el número secret:
            </shell>
        </step>
        <step>
            <comment>

            </comment>
            <code java>
                System.out.println("Endevina el número secret:");
                for(; <h>scanner.nextInt() != 6</h>;) {
                    System.out.println("Segueix intentant-ho");
                }
                System.out.println("L'has endevinat!");            
            </code>
            <mem>
            </mem>
            <shell>
                Endevina el número secret:
                <in>4</in>
            </shell>
        </step>
        <step>
            <comment>
                <w>4 != 6</w> és <w>true</w>, es fa la iteració
            </comment>
            <code java>
                System.out.println("Endevina el número secret:");
                for(; <h>scanner.nextInt() != 6</h>;) {
                    System.out.println("Segueix intentant-ho");
                }
                System.out.println("L'has endevinat!");            
            </code>
            <mem>
                scanner.nextInt(): 4
            </mem>
            <shell>
                Endevina el número secret:
                <in>4</in>
            </shell>
        </step>
        <step>
            <comment>
            </comment>
            <code java>
                System.out.println("Endevina el número secret:");
                for(; scanner.nextInt() != 6;) {
                    <h>System.out.println("Segueix intentant-ho");</h>
                }
                System.out.println("L'has endevinat!");            
            </code>
            <mem>
            </mem>
            <shell>
                Endevina el número secret:
                <in>4</in>
            </shell>
        </step>
        <step>
            <comment>
            </comment>
            <code java>
                System.out.println("Endevina el número secret:");
                for(; <h>scanner.nextInt() != 6</h>;) {
                    System.out.println("Segueix intentant-ho");
                }
                System.out.println("L'has endevinat!");            
            </code>
            <mem>
            </mem>
            <shell>
                Endevina el número secret:
                <in>4</in>
                Segueix intentant-ho
            </shell>
        </step>
        <step>
            <comment>

            </comment>
            <code java>
                System.out.println("Endevina el número secret:");
                for(; <h>scanner.nextInt() != 6</h>;) {
                    System.out.println("Segueix intentant-ho");
                }
                System.out.println("L'has endevinat!");            
            </code>
            <mem>
            </mem>
            <shell>
                Endevina el número secret:
                <in>4</in>
                Segueix intentant-ho
                <in>2</in>
            </shell>
        </step>
        <step>
            <comment>
                <w>2 != 6</w> és <w>true</w>, es fa la iteració
            </comment>
            <code java>
                System.out.println("Endevina el número secret:");
                for(; <h>scanner.nextInt() != 6</h>;) {
                    System.out.println("Segueix intentant-ho");
                }
                System.out.println("L'has endevinat!");            
            </code>
            <mem>
                scanner.nextInt(): 2
            </mem>
            <shell>
                Endevina el número secret:
                <in>4</in>
                Segueix intentant-ho
                <in>2</in>
            </shell>
        </step>
        <step>
            <comment>
            </comment>
            <code java>
                System.out.println("Endevina el número secret:");
                for(; scanner.nextInt() != 6;) {
                    <h>System.out.println("Segueix intentant-ho");</h>
                }
                System.out.println("L'has endevinat!");            
            </code>
            <mem>
            </mem>
            <shell>
                Endevina el número secret:
                <in>4</in>
                Segueix intentant-ho
                <in>2</in>
            </shell>
        </step>
        <step>
            <comment>
            </comment>
            <code java>
                System.out.println("Endevina el número secret:");
                for(; <h>scanner.nextInt() != 6</h>;) {
                    System.out.println("Segueix intentant-ho");
                }
                System.out.println("L'has endevinat!");            
            </code>
            <mem>
            </mem>
            <shell>
                Endevina el número secret:
                <in>4</in>
                Segueix intentant-ho
                <in>2</in>
                Segueix intentant-ho
            </shell>
        </step>

        <step>
            <comment>

            </comment>
            <code java>
                System.out.println("Endevina el número secret:");
                for(; <h>scanner.nextInt() != 6</h>;) {
                    System.out.println("Segueix intentant-ho");
                }
                System.out.println("L'has endevinat!");            
            </code>
            <mem>
            </mem>
            <shell>
                Endevina el número secret:
                <in>4</in>
                Segueix intentant-ho
                <in>2</in>
                Segueix intentant-ho
                <in>6</in>
            </shell>
        </step>
        <step>
            <comment>
                <w>6 != 6</w> és <w>false</w>, ja no es fa cap iteració més
            </comment>
            <code java>
                System.out.println("Endevina el número secret:");
                for(; <h>scanner.nextInt() != 6</h>;) {
                    System.out.println("Segueix intentant-ho");
                }
                System.out.println("L'has endevinat!");            
            </code>
            <mem>
                scanner.nextInt(): 6
            </mem>
            <shell>
                Endevina el número secret:
                <in>4</in>
                Segueix intentant-ho
                <in>2</in>
                Segueix intentant-ho
                <in>6</in>
            </shell>
        </step>
        <step>
            <comment>
            </comment>
            <code java>
                System.out.println("Endevina el número secret:");
                for(; scanner.nextInt() != 6;) {
                    System.out.println("Segueix intentant-ho");
                }
                <h>System.out.println("L'has endevinat!");</h>
            </code>
            <mem>
            </mem>
            <shell>
                Endevina el número secret:
                <in>4</in>
                Segueix intentant-ho
                <in>2</in>
                Segueix intentant-ho
                <in>6</in>
            </shell>
        </step>
        <step>
            <comment>
            </comment>
            <code java>
                System.out.println("Endevina el número secret:");
                for(; scanner.nextInt() != 6;) {
                    System.out.println("Segueix intentant-ho");
                }
                System.out.println("L'has endevinat!");            
            </code>
            <mem>
            </mem>
            <shell>
                Endevina el número secret:
                <in>4</in>
                Segueix intentant-ho
                <in>2</in>
                Segueix intentant-ho
                <in>6</in>
                L'has endevinat
            </shell>
        </step>
    </stepper>

    <h3>Inicialització</h3>
    <p>La <strong>inicialització</strong> s'executa només una vegada abans de començar el bucle.
        És a dir, és <em>semblant</em> a posar-la abans del bucle, però d'una forma més compacta</p>

    
    <p>Veiem un exemple:</p>
    <code java>
        for (System.out.println("Are you sure you want to delete your account?"); scanner.next().equals("no"); ) {
            System.out.println("Are you REALLY sure you want to delete your account?");
        }
        System.out.println("Your account has not been deleted.");
    </code>



    <p>Habitualment s'utilitza per a inicialitzar variables que s'utilitzaran dintre del bucle.</p>

</section>

<section>
    <h2>do-while</h2>
    <code java>
        do {
            
            String cmd = scanner.nextLine();
        }
    </code>
</section>