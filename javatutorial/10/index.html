<!DOCTYPE html>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<script type="module" src="/sofi/js/script.js"></script>
<link rel="stylesheet" href="/sofi/css/estil.css">

<nav></nav> 
<header>
    <h1>Mètodes</h1>
    <abstract>
        <p>        </p>
        <p>Aprendràs:</p>
        <check>A declarar <strong>mètodes</strong></check>
        <check>A invocar <strong>mètodes</strong> dels objectes</check>
    </abstract>
</header>

<!--Analogy, Diagram, Example, Plain English, Technical-->
<section>
    <h2>Mètodes</h2>

    <p>A més a més de variables, els objectes també poden tenir mètodes.</p>
    <p>Els mètodes, també anomenats <strong>funcions</strong>, són blocs de codi als quals els hi posem un nom.
    Ens permeten executar aquest codi des d'altres parts del programa, invocant-los pel seu nom. 
    Quan s'invoca un mètode, el programa salta al bloc de codi d'aquest mètode, i després retorna al lloc on
        s'havia invocat. Veiem un exemple:
    </p>

    <sc java>
        class Alumne {
            String nom;
        
            void saludar(){
                System.out.println("Hola");
                System.out.println("Que tal?");
            }
        }
        
        public class Main {
            public static void main(String[] args) {
        
                Alumne unAlumne = new Alumne();
        
                System.out.println("Ara farem una salutacio");
                unAlumne.saludar();
                System.out.println("Adeeeu");
            }
        }
    </sc>

    <p>El següent programa imprimirà:</p>

    <shell>
        Ara farem una salutacio
        Hola
        Que tal?
        Adeeeu
    </shell>

    <p>Quan hem invocat al mètode <w>saludar()</w> de l'objecte <w>unAlumne</w>, el fluxe d'execució ha saltat al bloc de codi
    d'aquest mètode, i en finalitzar a tornat al lloc des d'on s'havia invocat:
    </p>

    <img src="img/m1.png">

    <h3>Accés als camps de l'objecte</h3>

    <p>Els mètodes d'un objecte poden accedir als camps d'aquest objecte:</p>

    <sc java>
        class Alumne {
            String nom;
        
            void saludar(){
                System.out.println("Hola, em dic " + nom);
            }
        }
        
        public class Main {
            public static void main(String[] args) {
        
                Alumne unAlumne = new Alumne();
        
                unAlumne.nom = "Joan";
                unAlumne.saludar();
        
                Alumne unAltreAlumne = new Alumne();
        
                unAltreAlumne.nom = "Anna";
                unAltreAlumne.saludar();
            }
        }
    </sc>

    <shell>
        Hola, em dic Joan
        Hola, em dic Anna
    </shell>
    
    <img src="img/m2.png">

    <h3>Paràmetres i valor de retorn</h3>

    <p>Quan s'invoca un mètode es possible passar-li dades. El mètode ha de definir quins tipus de dades ha de rebre, 
        i quan s'invoca el mètode se li han de passar obligatòriament dades d'aquests tipus. 
        
        Un mètode també pot retornar dades al punt des d'on s'ha invocat. Les dades
        que  a un mètode s'anomenen <strong>paràmetres</strong>, i 
        les que retorna s'anomenen <strong>valor de retorn</strong>.
    </p>

    <p>Quan definim un mètode és necessari, doncs, especificar els seus paràmetres. És a dir, 
        els tipus de les dades que ha de rebre i donar un identificador a cadascuna d'aquestes dades.
    </p>

    <p>De la mateixa forma caldrà especificar el tipus de dada que retorna el mètode.</p>

    <p>Quan definim un mètode hem d'indicar en primer lloc el tipus de dada que retorna. A continuació el nom del mètode, i
        després la llista de paràmetres entre parèntesis <w>()</w>. Després ja ve el bloc d'instruccions del mètode entre claus <w>{}</w>
    </p>

    <sc java>
        TipusDelValorDeRetorn nomDelMetode(TipusDelParametre1 identificadorDelParametre1, ...) {
            // bloc d'instruccions
        }
    </sc>

    <p>Per exemple anem a definir un mètode al qual li passem un número i un total, i ens retorna el percentatge que 
        representa aquest número del total:</p>

    <sc java>
        class Calculadora {

            float calculaPercentatge(int unitats, int total) {
                return unitats*100f/total;
            }
        }
    </sc>

    <p>La definició d'aquest mètode indica que quan s'invoqui, se li han de passar dos números <w>int</w>. 
        Les dues variables (<w>unitats</w> i <w>total</w>) que hem definit entre els parèntesis, tindràn el 
    valor que se li passi quan s'invoqui el mètode. També s'indica que el mètode retornarà un valor de tipus <w>float</w>.
    </p>

    <p>Podem invocar aquest mètode de la següent manera:</p>

    <sc java>
        <low>
        class Calculadora {
            float calculaPercentatge(int unitats, int total) {
                return unitats*100f/total;
            }
        }

        public class Main {
            public static void main(String[] args){
                Calculadora calculadora = new Calculadora();</low>

                System.out.println( calculadora.calculaPercentatge(10, 20) );

                System.out.println( calculadora.calculaPercentatge(15, 20) );
        <low>
            }
        }</low>
    </sc>

    <p>A la primera invocació del mètode el paràmetre <w>unitats</w> rep el valor <w>10</w>, i el paràmetre <w>total</w>
    rep el valor <w>20</w>. El mètode retorna el valor <w>50.0</w>, i aquest valor és el que es passa al mètode println 
    per que l'imprimeixi.</p>

    <p>A la segona invocació del mètode el paràmetre <w>unitats</w> rep el valor <w>15</w>, i el paràmetre <w>total</w>
        rep el valor <w>20</w>. El mètode retorna el valor <w>75.0</w>, i aquest valor és el que es passa al mètode println 
        per que l'imprimeixi.</p>

    <p>En aquest codi hem passat el valor retornat pel mètode <w>calculaPercentatge()</w> directament al mètode <w>println()</w>.

        També es pot emmagatzemar el valor retornat per un mètode en una variable, per a ser utilitzat més endavant.
    </p>

    <sc java>
        <low>
        class Calculadora {
            float calculaPercentatge(int unitats, int total) {
                return unitats*100f/total;
            }
        }

        public class Main {
            public static void main(String[] args){
                Calculadora calculadora = new Calculadora();</low>

                float percentatge = calculadora.calculaPercentatge(10, 20);

                if (percentatge > 50) {
                    System.out.println("El percentatge " + percentatge + " es majoria.")
                }
        <low>
            }
        }</low>
    </sc>

    <p>Es a dir, quan finalitzi un mètode, el seu valor de retorn serà utilitzat allà on s'ha invocat el mètode:</p>

    <sc java>
        <low>
        class Calculadora {
            float calculaPercentatge(int unitats, int total) {
                return unitats*100f/total;
            }
        }

        public class Main {
            public static void main(String[] args){
                Calculadora calculadora = new Calculadora();</low>

                if (calculadora.calculaPercentatge(10, 20) &lt; 10) {
                    System.out.println("El percentatge es molt baix.")
                }
        <low>
            }
        }</low>
    </sc>

    <h4>void</h4>

    <p>També es possible que un mètode no retorni cap valor, aleshores especificarem <w>void</w> com a tipus de retorn a la seva
    declaració:</p>

    <sc java>
        class Calculadora {
            
        }
    </sc>

</section>

<section>

    <challenge>
        <a href="https://www.hackerrank.com/contests/dam-m3/challenges/definir-la-classe-comptecorrent">Definir la classe CompteCorrent</a>
        
    </challenge>
</section>