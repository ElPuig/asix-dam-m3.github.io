<!DOCTYPE html>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<script type="module" src="/sofi/js/script.js"></script>
<link rel="stylesheet" href="/sofi/css/estil.css">

<nav></nav>
<header>
    <h1>Operadors</h1>

    <abstract>
        <p>En aquesta activitat aprendr√†s a fer programes interactius, que demanen 
            dades i despr√©s les utilitzen.
        </p>
        <p>Aprendr√†s:</p>
        <check>Qu√® s√≥n les variables i com utilitzar-les</check>
        <check>Com obtenir dades de l'entrada est√†ndard i guardar-les en variables</check>
    </abstract>
</header>

<section>
    <h2>Operadors aritm√®tics</h2>

    <p>En la vida real, sovint realitzem operacions aritm√®tiques. 
        Ens ajuden a determinar el canvi quan fem una compra, l'√†rea 
        d'una habitaci√≥, comptar la gent que hi ha a una cua, i coses aix√≠. 
        Les mateixes operacions s'utilitzen als programes.
    </p>

    <h3>Operacions aritm√®tiques</h3>

    <p>El llenguatge de programaci√≥ Java proporciona operadors 
        per a realitzar operacions aritm√®tiques:
    </p>

    <ul>
        <li>suma <w>+</w></li>
        <li>resta <w>-</w></li>
        <li>multiplicaci√≥ <w>*</w></li>
        <li>divisi√≥ <w>/</w></li>
        <li>m√≤dul <w>%</w></li>
    </ul>

    <p>En aquest exemple s'imprimeixen el resultat d'aquestes operacions 
        aritm√®tiques amb operadors enters:</p>
    <code java>
        System.out.println(5 + 10);  // 15

        System.out.println(10 - 5);  // 5
        System.out.println(5 - 10);  // -5
        
        System.out.println(5 * 10);  // 50
        
        System.out.println(10 / 5);  // 2
        
        System.out.println( 10 % 5); // 0
    </code>

    <p>Tal vegada l'operador menys conegut √©s el <strong>m√≤dul</strong> <w>%</w>. 
    Aquest operador retorna el residu de la divisi√≥:</p>

    <code java>
        System.out.println(151 % 4);  // 3
        System.out.println(151 / 4);  // 37
    </code>
    <img src="img/modul.png">

    <h3>Preced√®ncia d'operadors</h3>
    <p>Hi ha un <a href="https://ca.wikipedia.org/wiki/Ordre_de_les_operacions">ordre de prefer√®ncia</a> a les operacions artim√®tiques, inclosos els par√®ntesi:</p>

    <p><w>()</w>&nbsp;&nbsp; ü°í&nbsp;&nbsp; <w>* / %</w>&nbsp;&nbsp; ü°í&nbsp;&nbsp; <w>+ -</w></p>

    <p>Tenint en compte aquesta prefer√®ncia es poden realitzar expressions m√©s complexes:</p>

    <code java>
        System.out.println(1 + 3 * 4 - 2);     // 11
        System.out.println((1 + 3) * (4 - 2)); // 8  

        System.out.println(-10 + 4);   // -6
        System.out.println(-(10 + 4)); // -14
    </code>

    <h3>Tipus dels operadors</h3>
    <p>El resultat d'una expressi√≥ artim√®tica dep√®n tamb√© del tipus dels seus operadors (<w>int</w> o <w>float</w>).</p>

    <p>Si una operaci√≥ es realitza amb operadors <w>int</w> el resultat ser√† de tipus <w>int</w>, per√≤ 
    si en una operaci√≥ al menys un operand √©s <w>float</w> el resultat ser√† de tipus <w>float</w>.</p>
    
    <p>Aquesta regla √©s especialment important en les divisions, ja que una operaci√≥ de divisi√≥ entre operands 
        enters donar√† com a resultat un enter (√©s a dir, sense decimals), per√≤ si hi ha un decimal aleshores donar√† 
    el resultat amb decimals:</p>

    <code java>
        System.out.println(5 / 2);    // 2  (resultat enter, sense decimals)
        System.out.println(5f / 2);   // 2.5
        System.out.println(5 / 2f);   // 2.5
        System.out.println(5f / 2f);  // 2.5
    </code>
    
    <quizz>
        <question text>
            <statement>
                <p>Escriu el resultat d'aquesta operaci√≥:</p>
                <p><w>2 + 3 * 4 + 5</w></p>
            </statement>
            <o>19</o>
        </question>

        <question text>
            <statement>
                <p>Qu√® imprimir√† aquesta sent√®ncia?</p>
                <w>System.out.println(2 + (-3) + 5 + (-8));</w>
            </statement>
            <o>-4</o>
        </question>

        <question match>
            <statement><p>Ordena els operadors segons la prefer√®ncia</p></statement>
            <o>1</o><o>( )</o>
            <o>2</o><o>* / %</o>
            <o>3</o><o>+ -</o>
        </question>

        <question text>
            <statement>
                <p>Escriu el valor que retorna aquesta expressi√≥:</p>
                <p><w>(-5) * (-10) * (-20)</w></p>
            </statement>
            <o>-1000</o>
        </question>
        
        <question multi>
            <statement>
                <p>Quina de les seg√ºents expressions √©s igual a <w>12</w>?</p>
            </statement>
            <o correct><w>24 / 2</w></o>
            <o><w>24 % 2</w></o>
            <o correct><w>25 / 2</w></o>
            <o correct><w>12 % 13</w></o>
        </question>

        <question text>
            <statement>
                <p>Quin √©s el resultat d'aquesta expressi√≥?</p>
                <p><w>3 / 2f</w></p>
            </statement>
            <o>1.5</o>
        </question>
        
        <question text>
            <statement>
                <p>Qu√® imprimeixen aquestes sent√®ncies?</p>
            </statement>
            <p><w>System.out.println((5 / 2) * (5 / 2));</w> <o>4</o></p>
            <p><w>System.out.println((5 / 2) * (5f / 2));</w> <o>5.0</o></p>
        </question>
    </quizz>

    <h3>Operadors aritm√®tics amb caracters i Strings</h3>

    <h4>Caracters</h4>
    <p>Quan utilitzem els operadors aritm√®tics amb valors de tipus <w>char</w>, 
        s'utilitza el valor num√®ric Unicode corresponent al caracter.
    </p>
    <p>Aix√≠, per exemple, el <a href="https://unicode-table.com/en/0061/">valor unicode del caracter <w>'a'</w></a> √©s <w>97</w>, 
    i ser√† aquest el valor que s'utiltzi en les operacions aritm√®tiques amb el caracter <w>'a'</w>.</p>

    <code java>
        System.out.println('a' + 0);     // 97    (97 + 0)
        System.out.println(5 + 'a');     // 102   (5 + 97)
        System.out.println('a' - 5);     // 92    (97 - 5)
        System.out.println('a' * 10);    // 970   (97 * 10)
        System.out.println('a' / 10);    // 9     (97 / 10)
        System.out.println(-'a' + 'b');  // 1    (-97 + 98)
    </code>

    <info>
        <p>A la wikipedia pots trobar la <a href="https://en.wikipedia.org/wiki/List_of_Unicode_characters#Basic_Latin">taula de caracters Unicode.</a>
        
        Per a esbrinar el valor num√®ric d'un caracter busca'l a la columna 
        <strong>Glyph</strong> i el seu valor a la columna <strong>Decimal</strong></p>
    </info>

    <h4>Strings</h4>
    <p>Podem utilitzar l'operador suma <w>+</w> amb Strings, per√≤ la seva funci√≥ no ser√† la suma, sin√≤ la 
    <strong>concatenaci√≥</strong>, √©s a dir, unir els elements un darrere de l'altre.</p>

    <p>D'aquesta forma, si algun dels dos operands en una expressi√≥ √©s un String, el resultat ser√† 
        la concatenaci√≥ dels operands, i no la suma.</p>

    <code java>
        System.out.println("Java" + "Script");  // JavaScript
        System.out.println("Java" + 8);         // Java8
        System.out.println("Java" + 14 + 1);    // Java141
        System.out.println("Java" + (14 + 1));  // Java15    (primer es fan els parentesi)
        System.out.println("Java" + 8 * 2);     // Java16    (primer es fa la multiplicacio)

        System.out.println("Java" - 8);         // Error! nom√©s es pot usar l'operador + 
        System.out.println("Java" + 8 - 1);     // Error! No √©s v√†lid ja que "Java"+8 √©s "Java8", 
                                                // i despr√©s el  "Java8" - 1  no √©s valid 
    </code>

    <quizz>
        <question text>
            <statement>
                <p>Qu√® imprimiran les seg√ºents sent√®ncies?</p>
            </statement>

            <p><w>System.out.println("Hola " + "mon");</w> <o>Hola mon</o></p>
            <p><w>System.out.println("Hola " + 330);</w> <o>Hola 3030</o></p>
            <p><w>System.out.println("Hola " + 'm' + 'o' + 'n');</w> <o>Hola mon</o></p>
            <p><w>System.out.println("Hola " + ('m' + 'o' + 'n'));</w> <o>Hola 330</o></p>
            <p><w>System.out.println('m' + 'o' + 'n' + "Hola");</w> <o>330Hola</o></p>
        </question>
    </quizz>

</section>

<section>
    <h2>Operadors booleans</h2>

    <p>Recordem que el tipus de dada <w>boolean</w> nom√©s t√© 
    dos valors possibles: <w>true</w> i <w>false</w>. Tamb√© 
    √©s conegut com el tipus <strong>l√≤gic</strong>.</p>

    <p>Aqest tipus es una forma habitual en els llenguatges 
        de programaci√≥ per a representar coses que nom√©s poden 
        tenir dos estats oposats com <strong>on</strong>/<strong>off</strong>, 
        <strong>s√≠</strong>/<strong>no</strong>.
    </p>

    <p>Si estas escrivint un programa que fa el seguiment de 
        les obertures de portes trobar√†s natural utilitzar un 
        <w>boolean</w> per a guardar el estat actual d'una porta.
        O en un videojoc, hi pot haver moltes variables <w>boolean</w> 
        per a mantenir l'estat d'un jugador (isAlive, isJumping, hasSword, ...).</p>

    <p>Les operacions que podem realitzar sobre valors <w>boolean</w> s√≥n:</p>
    <ul>
        <li>
            <p><strong>NOT</strong> <w>!</w></p>
            <p>Retorna la <strong>inversi√≥</strong> d'un valor boole√†:</p>
            <code java>
                System.out.println(!false);  // true
                System.out.println(!true);   // false
            </code>
        </li>

        <li>
            <p><strong>AND</strong> <w>&&</w></p>
            <p>Retorna <w>true</w> si <strong>tots</strong> dos operands s√≥n <w>true</w>, si no, retorna <w>false</w>.</p>
            <code java>
                System.out.println(true  && true);   // true
                System.out.println(true  && false);  // false
                System.out.println(false && true);   // false
                System.out.println(false && false);  // false
            </code>    
        </li>
        <li>
            <p><strong>OR</strong> <w>||</w></p>
            <p>Retorna <w>true</w> si <strong>al menys un</strong> operand √©s <w>true</w>, si no, retorna <w>false</w>.</p>
            <code java>
                System.out.println(true  || true);   // true
                System.out.println(true  || false);  // true
                System.out.println(false || true);   // true
                System.out.println(false || false);  // false
            </code>    
        </li>
    </ul>

    <info>
        Hi ha un altre operador anomenat <strong>XOR</strong> <w>^</w>. 
        En aquest curs utilitzarem m√©s sovint <w>!</w> <w>&&</w> <w>||</w>. 
        Per√≤ en cas de que el necessitis, que s√†pigues que hi √©s.

        Retorna <w>true</w> si els dos operands tenen diferents valors, si no 
        retorna <w>false</w>
        <code java>
            System.out.println(true  ^ true);   // false
            System.out.println(true  ^ false);  // true
            System.out.println(false ^ true);   // true
            System.out.println(false ^ false);  // false
        </code>
        
    </info>

    <h3>Preced√®ncia d'operadors l√≤gics</h3>
   
    <p>A sota hi ha els operadors booleans ordenats de m√©s a menys prioritat:</p>

    <p><w>()</w>&nbsp;&nbsp; ü°í&nbsp;&nbsp; <w>!</w>&nbsp;&nbsp; ü°í&nbsp;&nbsp; <w>&&</w>&nbsp;&nbsp; ü°í&nbsp;&nbsp; <w>||</w></p>

    <p>Tenint en compte aquesta preced√®ncia podem realitzar expressions complexes.</p>

    <code java>
        System.out.println(true && !false);  // true
        System.out.println(true && !true);   // false
        System.out.println(false || !false); // true
        System.out.println(true && false || true); // true
        System.out.println(true || true && false); // true
        System.out.println((true || true) && false); // true
        System.out.println(!(true || false)); // false
    </code>

    <h3>Curtcircuit</h3>

    <info>
        <p>Un punt interessant √©s que els operadors <w>&&</w> i <w>||</w> no avaluen el segon operand si no √©s necessari.
            Quan el primer operand d'una operaci√≥ <w>&&</w> √©s <w>false</w>, el resultat ser√† <w>false</w> sigui quin sigui 
            el segon operand; i quan el primer operand d'una operaci√≥ <w>||</w> √©s <w>true</w>, el resultat ser√† fals sigui quin 
            sigui el segon operand. Aix√≠ que:
            </p>
        
        <ul>
            <li><p><w>false && ...</w> &nbsp; ü°í&nbsp; <w>false</w>, ja que no √©s necessari saber que hi ha a la dreta</p></li>
            <li><p><w>true || ...</w> &nbsp; ü°í&nbsp; <w>true</w>, ja que no √©s necessari saber que hi ha a la dreta</p></li>
        </ul>
    
        <p>Aquest comportament es conegut com <strong>avaluaci√≥ curtcircuit</strong> (no confondre amb curtcircuit el√®ctric).
            Redueix el temps de computaci√≥ i pot ser utilitzat per a evitar alguns errors en programes.</p>

        <p>Fixa't en aquest codi:</p>

        <code java>
            System.out.println(false && (true || (false && !true) || (!true && (false && true) && true || !false)));
        </code>

        <p>No importa el que hi hagi m√©s enll√† del primer <w>false &&</w>, retorni <w>true</w> o <w>false</w>, el 
        resultat de l'expressi√≥ completa ser√† <w>false</w>.</p>
    </info>

    <quizz>
        <question text>
            <statement>
                <p>Escriu el resultat d'avaluar aquestes expressions l√≤giques:</p>
            </statement>

            <p><w>!(true || false)</w><o>false</o></p>
            <p><w>!true && !false</w><o>false</o></p>
            <p><w>!(true && false)</w><o>true</o></p>
            <p><w>true || true || !true</w><o>true</o></p>
            <p><w>true && true && !true</w><o>false</o></p>
        </question>
    </quizz>
</section>

<section>
    <h2>Operadors relacionals</h2>
    <p>Java proporciona sis operadors relacionals per a comparar n√∫meros:</p>
    <ul>
        <li><w>==</w> (igual a)</li>
        <li><w>!=</w> (no igual a)</w></li>
        <li><w>></w>  (major que)</li>
        <li><w>>=</w> (major o igual que)</li>
        <li><w><</w>  (menor que)</li>
        <li><w><=</w> (meno o igual que)</li>
    </ul>

    <p>El resultat d'aplicar un d'aquests operadors relacionals √©s de 
        tipus <w>boolean</w> independentment dels tipus dels seus operands.
    </p>

    <p>Aqu√≠ tens exemples d'aplicar els operadors relacionals a diferents tipus 
        d'operands. Observa que el valor retornat en avaluar l'expressi√≥ √©s sempre 
        <w>true</w> o <w>false</w>.
    </p>

    <code java>
        System.out.println(5 > 2);  // true
        System.out.println(5 == 2); // false
        System.out.println(5 >= 2); // true
        System.out.println(5 != 2); // true
        System.out.println(4 + 1 == 5);  // true  
        System.out.println(5f == 5);  // true  
        System.out.println(!false == true);  // true
        System.out.println(false == true);  // false
        System.out.println('a' == 97);  // true
        System.out.println('a' < 'b');  // true
    </code>

    <p>Fixa't que podem fer operacions relacionals entre enters, floats i chars (recorda que 
        els chars s√≥n convertits al seu valor Unicode). Tamb√© podem fer operacions 
        relacionals entre booleans. Per√≤ no podem fer-ho entre n√∫meros i booleans, ja que no t√© 
        cap sentit:</p>
    
        <code java>
            System.out.println(5 <= true);  // invalid! no t√© cap sentit
        </code>

    <h3>Comparar Strings</h3>
    <p>Per √∫ltim has de notar que no hem fet cap operaci√≥ relacional amb el tipus <w>String</w>.
        Java permet comparar la igualtat de dos <w>Strings</w> per√≤ <strong>no</strong> √©s amb l'operador <w>==</w>.</p>

    <p>Per a comparar dos Strings hem d'utilitzar el m√®tode <w>equals()</w>, aix√≠: </p>

    <code java>
        "hola".equals("adeu")  // false
        "hola".equals("ho" + "la")  // true
    </code>


    <h3>Unir operadors relacionals utilitzant operadors l√≤gics</h3>
    <p>En Java, no es pot escriure una expresi√≥ com <strong>a < b < c</strong> 
    (per veure si <strong>b</strong> est√† entre mig d'<strong>a</strong> i <strong>c</strong>.
    En lloc d'aix√≤, has d'unir dos expressions booleanes utilitzant operadors com <w>||</w> i <w>&&</w>.</p>

    <code java>
        a < b && b < c   // significa a < b < c 
    </code>

    <p>La prioritat dels tipus d'operadors √©s:</p>

    <p>Aritm√®tics&nbsp;&nbsp; ü°í&nbsp;&nbsp; Relacionals &nbsp;&nbsp; ü°í&nbsp;&nbsp; L√≤gics</p>

    <p>En el seg√ºent exemple hi han els tres tipus d'operadors:</p>
    <code java>
        System.out.println(2 + 2 == 5 || 3 + 3 == 6);  // true
    </code>

    <p>El programa imprimeix <w>true</w>, perqu√®:</p>
    <ol>
        <li>
            <p>Primer es fan els Aritm√®tics (la suma):</p>
            <code java>
                System.out.println(4 == 5 || 6 == 6);
            </code>        
        </li>
        <li>
            <p>Despr√©s els relacionals (l'igual que):</p>
            <code java>
                System.out.println(false || true);
            </code>        
        </li>
        <li>
            <p>Per √∫ltim els l√≤gics (l'OR):</p>
            <code java>
                System.out.println(true);
            </code>        
        </li>
    </ol>

    <quizz>
        <question single>
            <statement>
                <p>Quin valor retorna aquesta expressi√≥?</p>
                <w>10 % 5 >= 2 || 10 / 5 <= 2 && !(10 - 5 != 2)</w>
            </statement>

            <o><w>true</w></o>
            <o correct><w>false</w></o>
        </question>

        <question single>
            <statement>
                <p>Qu√® imprimeix aquest programa?</p>
                <code java>
                    System.out.println("java".equals('j' + 'a' + 'v' + 'a'));
                </code>
            </statement>

            <o><w>true</w></o>
            <o correct><w>false</w></o>
            <o>√âs inv√†lid, perqu√® falta un par√®ntesi</o>
            <o>√âs inv√†lid, perqu√® no es poden sumar caracters</o>
        </question>
    </quizz>

</section>

<section>
    <h2>Operador ternari</h2>
    <p>La sintaxi general de l'operador ternari <w>?:</w> √©s aquesta:</p>

    <code java>
        condition ? trueCase : falseCase
    </code>

    <code java>
        System.out.println(10 > 5 ? "major" : "menor");
        System.out.println(num % 2 == 0 ? "parell" : "imparell");
    </code>

    (in progress...)
</section>

<section>
    <h2>Operacions amb variables</h2>

    <p>Fins ara hem vist el funcionament dels operadors aritm√®tics, relacionals i l√≤gics 
        amb valors literals. √âs clar que tamb√© podem utilitzar el valor de les variables 
        en aquestes expressions. Com ja hem fet anteriorment, accedirem al valor d'una variable pel seu nom.
    </p>

    <code java>
        int a = 10;
        int b = 20;
        int c = 30;

        System.out.println(a < b && b < c);  // true
    </code>

    <p>Un altre exemple:</p>
    <code java>
        float a = 97f;
        int b = 97;
        char c = 'a';
        
        System.out.println(a == b && b == c);  // true
    </code>

    <p>Un √∫ltim exemple:</p>
    <code java>
        String l = "linux";
        String g = "gnu";
        boolean b = true;

        System.out.println(g.equals(l) || b);  // true
    </code>

    <p>Per una altra banda, podem guardar en una variable el resultat que retorna una expressi√≥, 
        sempre que la variable sigui del tipus adequat al valor que retorna l'expressi√≥.
    </p>
        
    <code java>
        // aritmetics
        int a = 5 + 5;     // 10
        float b = 5 + 5;   // 10.0
        char c = 'a' + 1;  // 'b'
        
        String d = "ja" + "va";  // java

        // relacionals
        boolean e = 5 == 5;  // true

        // booleans
        boolean f = true || false;  // true
    </code>

    <p>Tamb√© podem utilitzar el valor d'una variable en una expressi√≥ i 
        assignar el resultat a la mateixa variable:
    </p>

    <code java>
        int a = 10;
        a = a + 1;
        System.out.println(a);  // 11
    </code>

    <p>L'explicaci√≥ √©s que en la sent√®ncia <w>a = a + 1;</w> primer s'avalua l'expressi√≥ amb 
    el valor actual de <w>a</w> (<w>10 + 1</w>), el resultat <w>11</w> s'assigna despr√©s a la
    variable <w>a</w>.</p>

    <code java>
        String language = "Java";
        language = language + "8";
        System.out.println(language);  // Java8
    </code>

    <code java>
        boolean estaObert = true;
        estaObert = !estaObert;
        System.out.println(estaObert); // false
    </code>

    <quizz>
        <question text>
            <statement>
                <p>Introdueix el valor de la variable <w>result</w></p>
                <code java>
                    int a = 4, b = 6;
                    int c = a + b;
                    int result = c + (a + b) * c;
                </code>
            </statement>
            <o>110</o>
        </question>

        <question text>
            <statement>
                <p>Hi ha aquestes variables:</p>
                <code java>
                    boolean b1 = true;
                    boolean b2 = false;
                    boolean b3 = true;
                    boolean b4 = false;
                </code>
                <p>Quin √©s el resultat d'aquesta expressi√≥?</p>
                <w>b1 && (b2 || (b3 || b4))</w>
            </statement>
            <o>true</o>
        </question>

        <question text>
            <statement>
                <p>Introdueix el valor de cada variable, <strong>despr√©s</strong> de cada sent√®ncia d'aquest programa:</p>
            </statement>

            <table>
                <thead>
                    <th style="width: 14em;"></th><th><w>a</w></th><th><w>b</w></th><th><w>c</w></th><th><w>d</w></th>
                </thead>
                <tr>
                    <td><w>int a = 0;</w></td>
                    <td><o>0</o></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td><w>int b = a + 1;</w></td>
                    <td><o>0</o></td>
                    <td><o>1</o></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td><w>a = a + 1;</w></td>
                    <td><o>1</o></td>
                    <td><o>1</o></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td><w>boolean c = a == b;</w></td>
                    <td><o>1</o></td>
                    <td><o>1</o></td>
                    <td><o>true</o></td>
                    <td></td>
                </tr>
                <tr>
                    <td><w>boolean d = !c;</w></td>
                    <td><o>1</o></td>
                    <td><o>1</o></td>
                    <td><o>true</o></td>
                    <td><o>false</o></td>
                </tr>
            </table>
        </question>
    </quizz>
</section>